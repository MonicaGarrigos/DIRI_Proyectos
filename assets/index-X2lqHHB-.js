var nv=Object.defineProperty;var rv=(r,t,i)=>t in r?nv(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var Ui=(r,t,i)=>rv(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=i(l);fetch(l.href,a)}})();function hm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ca={exports:{}},Bi={},Sa={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function iv(){if(ep)return ne;ep=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function F(S,R,te){this.props=S,this.context=R,this.refs=L,this.updater=te||N}F.prototype.isReactComponent={},F.prototype.setState=function(S,R){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,R,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function Z(S,R,te){this.props=S,this.context=R,this.refs=L,this.updater=te||N}var le=Z.prototype=new ee;le.constructor=Z,O(le,F.prototype),le.isPureReactComponent=!0;var $=Array.isArray,X=Object.prototype.hasOwnProperty,K={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function Se(S,R,te){var se,de={},fe=null,ye=null;if(R!=null)for(se in R.ref!==void 0&&(ye=R.ref),R.key!==void 0&&(fe=""+R.key),R)X.call(R,se)&&!ue.hasOwnProperty(se)&&(de[se]=R[se]);var me=arguments.length-2;if(me===1)de.children=te;else if(1<me){for(var Ne=Array(me),gt=0;gt<me;gt++)Ne[gt]=arguments[gt+2];de.children=Ne}if(S&&S.defaultProps)for(se in me=S.defaultProps,me)de[se]===void 0&&(de[se]=me[se]);return{$$typeof:r,type:S,key:fe,ref:ye,props:de,_owner:K.current}}function ae(S,R){return{$$typeof:r,type:S.type,key:R,ref:S.ref,props:S.props,_owner:S._owner}}function We(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function Xt(S){var R={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return R[te]})}var St=/\/+/g;function mt(S,R){return typeof S=="object"&&S!==null&&S.key!=null?Xt(""+S.key):R.toString(36)}function Ot(S,R,te,se,de){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(fe){case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case r:case t:ye=!0}}if(ye)return ye=S,de=de(ye),S=se===""?"."+mt(ye,0):se,$(de)?(te="",S!=null&&(te=S.replace(St,"$&/")+"/"),Ot(de,R,te,"",function(gt){return gt})):de!=null&&(We(de)&&(de=ae(de,te+(!de.key||ye&&ye.key===de.key?"":(""+de.key).replace(St,"$&/")+"/")+S)),R.push(de)),1;if(ye=0,se=se===""?".":se+":",$(S))for(var me=0;me<S.length;me++){fe=S[me];var Ne=se+mt(fe,me);ye+=Ot(fe,R,te,Ne,de)}else if(Ne=C(S),typeof Ne=="function")for(S=Ne.call(S),me=0;!(fe=S.next()).done;)fe=fe.value,Ne=se+mt(fe,me++),ye+=Ot(fe,R,te,Ne,de);else if(fe==="object")throw R=String(S),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ye}function Ht(S,R,te){if(S==null)return S;var se=[],de=0;return Ot(S,se,"","",function(fe){return R.call(te,fe,de++)}),se}function lt(S){if(S._status===-1){var R=S._result;R=R(),R.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=R)}if(S._status===1)return S._result.default;throw S._result}var De={current:null},b={transition:null},q={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:b,ReactCurrentOwner:K};function U(){throw Error("act(...) is not supported in production builds of React.")}return ne.Children={map:Ht,forEach:function(S,R,te){Ht(S,function(){R.apply(this,arguments)},te)},count:function(S){var R=0;return Ht(S,function(){R++}),R},toArray:function(S){return Ht(S,function(R){return R})||[]},only:function(S){if(!We(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ne.Component=F,ne.Fragment=i,ne.Profiler=l,ne.PureComponent=Z,ne.StrictMode=o,ne.Suspense=m,ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ne.act=U,ne.cloneElement=function(S,R,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=O({},S.props),de=S.key,fe=S.ref,ye=S._owner;if(R!=null){if(R.ref!==void 0&&(fe=R.ref,ye=K.current),R.key!==void 0&&(de=""+R.key),S.type&&S.type.defaultProps)var me=S.type.defaultProps;for(Ne in R)X.call(R,Ne)&&!ue.hasOwnProperty(Ne)&&(se[Ne]=R[Ne]===void 0&&me!==void 0?me[Ne]:R[Ne])}var Ne=arguments.length-2;if(Ne===1)se.children=te;else if(1<Ne){me=Array(Ne);for(var gt=0;gt<Ne;gt++)me[gt]=arguments[gt+2];se.children=me}return{$$typeof:r,type:S.type,key:de,ref:fe,props:se,_owner:ye}},ne.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:a,_context:S},S.Consumer=S},ne.createElement=Se,ne.createFactory=function(S){var R=Se.bind(null,S);return R.type=S,R},ne.createRef=function(){return{current:null}},ne.forwardRef=function(S){return{$$typeof:h,render:S}},ne.isValidElement=We,ne.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:lt}},ne.memo=function(S,R){return{$$typeof:g,type:S,compare:R===void 0?null:R}},ne.startTransition=function(S){var R=b.transition;b.transition={};try{S()}finally{b.transition=R}},ne.unstable_act=U,ne.useCallback=function(S,R){return De.current.useCallback(S,R)},ne.useContext=function(S){return De.current.useContext(S)},ne.useDebugValue=function(){},ne.useDeferredValue=function(S){return De.current.useDeferredValue(S)},ne.useEffect=function(S,R){return De.current.useEffect(S,R)},ne.useId=function(){return De.current.useId()},ne.useImperativeHandle=function(S,R,te){return De.current.useImperativeHandle(S,R,te)},ne.useInsertionEffect=function(S,R){return De.current.useInsertionEffect(S,R)},ne.useLayoutEffect=function(S,R){return De.current.useLayoutEffect(S,R)},ne.useMemo=function(S,R){return De.current.useMemo(S,R)},ne.useReducer=function(S,R,te){return De.current.useReducer(S,R,te)},ne.useRef=function(S){return De.current.useRef(S)},ne.useState=function(S){return De.current.useState(S)},ne.useSyncExternalStore=function(S,R,te){return De.current.useSyncExternalStore(S,R,te)},ne.useTransition=function(){return De.current.useTransition()},ne.version="18.3.1",ne}var tp;function dl(){return tp||(tp=1,Sa.exports=iv()),Sa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function sv(){if(np)return Bi;np=1;var r=dl(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,g){var v,y={},C=null,N=null;g!==void 0&&(C=""+g),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(N=m.ref);for(v in m)o.call(m,v)&&!a.hasOwnProperty(v)&&(y[v]=m[v]);if(h&&h.defaultProps)for(v in m=h.defaultProps,m)y[v]===void 0&&(y[v]=m[v]);return{$$typeof:t,type:h,key:C,ref:N,props:y,_owner:l.current}}return Bi.Fragment=i,Bi.jsx=d,Bi.jsxs=d,Bi}var rp;function ov(){return rp||(rp=1,Ca.exports=sv()),Ca.exports}var V=ov(),Te=dl();const vc=hm(Te);var Lo={},ka={exports:{}},ht={},Ia={exports:{}},Ta={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function lv(){return ip||(ip=1,function(r){function t(b,q){var U=b.length;b.push(q);e:for(;0<U;){var S=U-1>>>1,R=b[S];if(0<l(R,q))b[S]=q,b[U]=R,U=S;else break e}}function i(b){return b.length===0?null:b[0]}function o(b){if(b.length===0)return null;var q=b[0],U=b.pop();if(U!==q){b[0]=U;e:for(var S=0,R=b.length,te=R>>>1;S<te;){var se=2*(S+1)-1,de=b[se],fe=se+1,ye=b[fe];if(0>l(de,U))fe<R&&0>l(ye,de)?(b[S]=ye,b[fe]=U,S=fe):(b[S]=de,b[se]=U,S=se);else if(fe<R&&0>l(ye,U))b[S]=ye,b[fe]=U,S=fe;else break e}}return q}function l(b,q){var U=b.sortIndex-q.sortIndex;return U!==0?U:b.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var m=[],g=[],v=1,y=null,C=3,N=!1,O=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(b){for(var q=i(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=b)o(g),q.sortIndex=q.expirationTime,t(m,q);else break;q=i(g)}}function $(b){if(L=!1,le(b),!O)if(i(m)!==null)O=!0,lt(X);else{var q=i(g);q!==null&&De($,q.startTime-b)}}function X(b,q){O=!1,L&&(L=!1,ee(Se),Se=-1),N=!0;var U=C;try{for(le(q),y=i(m);y!==null&&(!(y.expirationTime>q)||b&&!Xt());){var S=y.callback;if(typeof S=="function"){y.callback=null,C=y.priorityLevel;var R=S(y.expirationTime<=q);q=r.unstable_now(),typeof R=="function"?y.callback=R:y===i(m)&&o(m),le(q)}else o(m);y=i(m)}if(y!==null)var te=!0;else{var se=i(g);se!==null&&De($,se.startTime-q),te=!1}return te}finally{y=null,C=U,N=!1}}var K=!1,ue=null,Se=-1,ae=5,We=-1;function Xt(){return!(r.unstable_now()-We<ae)}function St(){if(ue!==null){var b=r.unstable_now();We=b;var q=!0;try{q=ue(!0,b)}finally{q?mt():(K=!1,ue=null)}}else K=!1}var mt;if(typeof Z=="function")mt=function(){Z(St)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Ht=Ot.port2;Ot.port1.onmessage=St,mt=function(){Ht.postMessage(null)}}else mt=function(){F(St,0)};function lt(b){ue=b,K||(K=!0,mt())}function De(b,q){Se=F(function(){b(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(b){b.callback=null},r.unstable_continueExecution=function(){O||N||(O=!0,lt(X))},r.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<b?Math.floor(1e3/b):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return i(m)},r.unstable_next=function(b){switch(C){case 1:case 2:case 3:var q=3;break;default:q=C}var U=C;C=q;try{return b()}finally{C=U}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(b,q){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var U=C;C=b;try{return q()}finally{C=U}},r.unstable_scheduleCallback=function(b,q,U){var S=r.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?S+U:S):U=S,b){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,b={id:v++,callback:q,priorityLevel:b,startTime:U,expirationTime:R,sortIndex:-1},U>S?(b.sortIndex=U,t(g,b),i(m)===null&&b===i(g)&&(L?(ee(Se),Se=-1):L=!0,De($,U-S))):(b.sortIndex=R,t(m,b),O||N||(O=!0,lt(X))),b},r.unstable_shouldYield=Xt,r.unstable_wrapCallback=function(b){var q=C;return function(){var U=C;C=q;try{return b.apply(this,arguments)}finally{C=U}}}}(Ta)),Ta}var sp;function uv(){return sp||(sp=1,Ia.exports=lv()),Ia.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function av(){if(op)return ht;op=1;var r=dl(),t=uv();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function a(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function C(e){return m.call(y,e)?!0:m.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function N(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,u){if(n===null||typeof n>"u"||N(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function L(e,n,s,u,c,f,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=p}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new L(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new L(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new L(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new L(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new L(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new L(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ee,Z);F[n]=new L(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ee,Z);F[n]=new L(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ee,Z);F[n]=new L(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)});function le(e,n,s,u){var c=F.hasOwnProperty(n)?F[n]:null;(c!==null?c.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,c,u)&&(s=null),u||c===null?C(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,u=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),K=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),Xt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),b=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,S;function R(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var te=!1;function se(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var u=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){u=T}e.call(n.prototype)}else{try{throw Error()}catch(T){u=T}e()}}catch(T){if(T&&u&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=u.stack.split(`
`),p=c.length-1,_=f.length-1;1<=p&&0<=_&&c[p]!==f[_];)_--;for(;1<=p&&0<=_;p--,_--)if(c[p]!==f[_]){if(p!==1||_!==1)do if(p--,_--,0>_||c[p]!==f[_]){var w=`
`+c[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=_);break}}}finally{te=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function de(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case K:return"Portal";case ae:return"Profiler";case Se:return"StrictMode";case mt:return"Suspense";case Ot:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xt:return(e.displayName||"Context")+".Consumer";case We:return(e._context.displayName||"Context")+".Provider";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ht:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case lt:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}function ye(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(n);case 8:return n===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(e){var n=Ne(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ks(e){e._valueTracker||(e._valueTracker=gt(e))}function sd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=Ne(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rl(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function od(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=me(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ld(e,n){n=n.checked,n!=null&&le(e,"checked",n,!1)}function Pl(e,n){ld(e,n);var s=me(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Dl(e,n.type,s):n.hasOwnProperty("defaultValue")&&Dl(e,n.type,me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ud(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Dl(e,n,s){(n!=="number"||Is(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ti=Array.isArray;function pr(e,n,s,u){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&u&&(e[s].defaultSelected=!0)}else{for(s=""+me(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ol(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(ti(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:me(s)}}function cd(e,n){var s=me(n.value),u=me(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function dd(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?fd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,hd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ni(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){l_.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ri[n]=ri[e]})});function pd(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ri.hasOwnProperty(e)&&ri[e]?(""+n).trim():n+"px"}function md(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,c=pd(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,c):e[s]=c}}var u_=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(e,n){if(n){if(u_[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Ll(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,mr=null,gr=null;function gd(e){if(e=Ii(e)){if(typeof zl!="function")throw Error(i(280));var n=e.stateNode;n&&(n=qs(n),zl(e.stateNode,e.type,n))}}function _d(e){mr?gr?gr.push(e):gr=[e]:mr=e}function yd(){if(mr){var e=mr,n=gr;if(gr=mr=null,gd(e),n)for(e=0;e<n.length;e++)gd(n[e])}}function vd(e,n){return e(n)}function wd(){}var jl=!1;function Ed(e,n,s){if(jl)return e(n,s);jl=!0;try{return vd(e,n,s)}finally{jl=!1,(mr!==null||gr!==null)&&(wd(),yd())}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var u=qs(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Ul=!1;if(h)try{var si={};Object.defineProperty(si,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Ul=!1}function a_(e,n,s,u,c,f,p,_,w){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(P){this.onError(P)}}var oi=!1,Ns=null,xs=!1,Bl=null,c_={onError:function(e){oi=!0,Ns=e}};function d_(e,n,s,u,c,f,p,_,w){oi=!1,Ns=null,a_.apply(c_,arguments)}function f_(e,n,s,u,c,f,p,_,w){if(d_.apply(this,arguments),oi){if(oi){var T=Ns;oi=!1,Ns=null}else throw Error(i(198));xs||(xs=!0,Bl=T)}}function Hn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Cd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Sd(e){if(Hn(e)!==e)throw Error(i(188))}function h_(e){var n=e.alternate;if(!n){if(n=Hn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,u=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(u=c.return,u!==null){s=u;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return Sd(c),e;if(f===u)return Sd(c),n;f=f.sibling}throw Error(i(188))}if(s.return!==u.return)s=c,u=f;else{for(var p=!1,_=c.child;_;){if(_===s){p=!0,s=c,u=f;break}if(_===u){p=!0,u=c,s=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===s){p=!0,s=f,u=c;break}if(_===u){p=!0,u=f,s=c;break}_=_.sibling}if(!p)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function kd(e){return e=h_(e),e!==null?Id(e):null}function Id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Id(e);if(n!==null)return n;e=e.sibling}return null}var Td=t.unstable_scheduleCallback,Nd=t.unstable_cancelCallback,p_=t.unstable_shouldYield,m_=t.unstable_requestPaint,Le=t.unstable_now,g_=t.unstable_getCurrentPriorityLevel,Wl=t.unstable_ImmediatePriority,xd=t.unstable_UserBlockingPriority,Rs=t.unstable_NormalPriority,__=t.unstable_LowPriority,Rd=t.unstable_IdlePriority,Ps=null,Vt=null;function y_(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ps,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:E_,v_=Math.log,w_=Math.LN2;function E_(e){return e>>>=0,e===0?32:31-(v_(e)/w_|0)|0}var Ds=64,Os=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function As(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,f=e.pingedLanes,p=s&268435455;if(p!==0){var _=p&~c;_!==0?u=li(_):(f&=p,f!==0&&(u=li(f)))}else p=s&~c,p!==0?u=li(p):f!==0&&(u=li(f));if(u===0)return 0;if(n!==0&&n!==u&&!(n&c)&&(c=u&-u,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(u&4&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-At(n),c=1<<s,u|=e[s],n&=~c;return u}function C_(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-At(f),_=1<<p,w=c[p];w===-1?(!(_&s)||_&u)&&(c[p]=C_(_,n)):w<=n&&(e.expiredLanes|=_),f&=~_}}function Hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pd(){var e=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),e}function Vl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ui(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-At(n),e[n]=s}function k_(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-At(s),f=1<<c;n[c]=0,u[c]=-1,e[c]=-1,s&=~f}}function $l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-At(s),c=1<<u;c&n|e[u]&n&&(e[u]|=n),s&=~c}}var ge=0;function Dd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,Ql,Ad,Md,Ld,Gl=!1,Ms=[],mn=null,gn=null,_n=null,ai=new Map,ci=new Map,yn=[],I_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(e,n){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":ai.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(n.pointerId)}}function di(e,n,s,u,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ii(n),n!==null&&Ql(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function T_(e,n,s,u,c){switch(n){case"focusin":return mn=di(mn,e,n,s,u,c),!0;case"dragenter":return gn=di(gn,e,n,s,u,c),!0;case"mouseover":return _n=di(_n,e,n,s,u,c),!0;case"pointerover":var f=c.pointerId;return ai.set(f,di(ai.get(f)||null,e,n,s,u,c)),!0;case"gotpointercapture":return f=c.pointerId,ci.set(f,di(ci.get(f)||null,e,n,s,u,c)),!0}return!1}function bd(e){var n=Vn(e.target);if(n!==null){var s=Hn(n);if(s!==null){if(n=s.tag,n===13){if(n=Cd(s),n!==null){e.blockedOn=n,Ld(e.priority,function(){Ad(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ql(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Fl=u,s.target.dispatchEvent(u),Fl=null}else return n=Ii(s),n!==null&&Ql(n),e.blockedOn=s,!1;n.shift()}return!0}function zd(e,n,s){Ls(e)&&s.delete(n)}function N_(){Gl=!1,mn!==null&&Ls(mn)&&(mn=null),gn!==null&&Ls(gn)&&(gn=null),_n!==null&&Ls(_n)&&(_n=null),ai.forEach(zd),ci.forEach(zd)}function fi(e,n){e.blockedOn===n&&(e.blockedOn=null,Gl||(Gl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N_)))}function hi(e){function n(c){return fi(c,e)}if(0<Ms.length){fi(Ms[0],e);for(var s=1;s<Ms.length;s++){var u=Ms[s];u.blockedOn===e&&(u.blockedOn=null)}}for(mn!==null&&fi(mn,e),gn!==null&&fi(gn,e),_n!==null&&fi(_n,e),ai.forEach(n),ci.forEach(n),s=0;s<yn.length;s++)u=yn[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<yn.length&&(s=yn[0],s.blockedOn===null);)bd(s),s.blockedOn===null&&yn.shift()}var _r=$.ReactCurrentBatchConfig,Fs=!0;function x_(e,n,s,u){var c=ge,f=_r.transition;_r.transition=null;try{ge=1,Kl(e,n,s,u)}finally{ge=c,_r.transition=f}}function R_(e,n,s,u){var c=ge,f=_r.transition;_r.transition=null;try{ge=4,Kl(e,n,s,u)}finally{ge=c,_r.transition=f}}function Kl(e,n,s,u){if(Fs){var c=ql(e,n,s,u);if(c===null)fu(e,n,u,bs,s),Fd(e,u);else if(T_(c,e,n,s,u))u.stopPropagation();else if(Fd(e,u),n&4&&-1<I_.indexOf(e)){for(;c!==null;){var f=Ii(c);if(f!==null&&Od(f),f=ql(e,n,s,u),f===null&&fu(e,n,u,bs,s),f===c)break;c=f}c!==null&&u.stopPropagation()}else fu(e,n,u,null,s)}}var bs=null;function ql(e,n,s,u){if(bs=null,e=bl(u),e=Vn(e),e!==null)if(n=Hn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Cd(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return bs=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Wl:return 1;case xd:return 4;case Rs:case __:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var vn=null,Yl=null,zs=null;function Ud(){if(zs)return zs;var e,n=Yl,s=n.length,u,c="value"in vn?vn.value:vn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(u=1;u<=p&&n[s-u]===c[f-u];u++);return zs=c.slice(e,1<u?1-u:void 0)}function js(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function Bd(){return!1}function _t(e){function n(s,u,c,f,p){this._reactName=s,this._targetInst=c,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Us:Bd,this.isPropagationStopped=Bd,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),n}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=_t(yr),pi=U({},yr,{view:0,detail:0}),P_=_t(pi),Jl,Zl,mi,Bs=U({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(Jl=e.screenX-mi.screenX,Zl=e.screenY-mi.screenY):Zl=Jl=0,mi=e),Jl)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),Wd=_t(Bs),D_=U({},Bs,{dataTransfer:0}),O_=_t(D_),A_=U({},pi,{relatedTarget:0}),eu=_t(A_),M_=U({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=_t(M_),F_=U({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b_=_t(F_),z_=U({},yr,{data:0}),Hd=_t(z_),j_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=B_[e])?!!n[e]:!1}function tu(){return W_}var H_=U({},pi,{key:function(e){if(e.key){var n=j_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V_=_t(H_),$_=U({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=_t($_),Q_=U({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),G_=_t(Q_),K_=U({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q_=_t(K_),Y_=U({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=_t(Y_),J_=[9,13,27,32],nu=h&&"CompositionEvent"in window,gi=null;h&&"documentMode"in document&&(gi=document.documentMode);var Z_=h&&"TextEvent"in window&&!gi,$d=h&&(!nu||gi&&8<gi&&11>=gi),Qd=" ",Gd=!1;function Kd(e,n){switch(e){case"keyup":return J_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function ey(e,n){switch(e){case"compositionend":return qd(n);case"keypress":return n.which!==32?null:(Gd=!0,Qd);case"textInput":return e=n.data,e===Qd&&Gd?null:e;default:return null}}function ty(e,n){if(vr)return e==="compositionend"||!nu&&Kd(e,n)?(e=Ud(),zs=Yl=vn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $d&&n.locale!=="ko"?null:n.data;default:return null}}var ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ny[e.type]:n==="textarea"}function Xd(e,n,s,u){_d(u),n=Qs(n,"onChange"),0<n.length&&(s=new Xl("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var _i=null,yi=null;function ry(e){gf(e,0)}function Ws(e){var n=kr(e);if(sd(n))return e}function iy(e,n){if(e==="change")return n}var Jd=!1;if(h){var ru;if(h){var iu="oninput"in document;if(!iu){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),iu=typeof Zd.oninput=="function"}ru=iu}else ru=!1;Jd=ru&&(!document.documentMode||9<document.documentMode)}function ef(){_i&&(_i.detachEvent("onpropertychange",tf),yi=_i=null)}function tf(e){if(e.propertyName==="value"&&Ws(yi)){var n=[];Xd(n,yi,e,bl(e)),Ed(ry,n)}}function sy(e,n,s){e==="focusin"?(ef(),_i=n,yi=s,_i.attachEvent("onpropertychange",tf)):e==="focusout"&&ef()}function oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(yi)}function ly(e,n){if(e==="click")return Ws(n)}function uy(e,n){if(e==="input"||e==="change")return Ws(n)}function ay(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mt=typeof Object.is=="function"?Object.is:ay;function vi(e,n){if(Mt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var c=s[u];if(!m.call(n,c)||!Mt(e[c],n[c]))return!1}return!0}function nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rf(e,n){var s=nf(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nf(s)}}function sf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function of(){for(var e=window,n=Is();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Is(e.document)}return n}function su(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function cy(e){var n=of(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&sf(s.ownerDocument.documentElement,s)){if(u!==null&&su(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(u.start,c);u=u.end===void 0?f:Math.min(u.end,c),!e.extend&&f>u&&(c=u,u=f,f=c),c=rf(s,f);var p=rf(s,u);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>u?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dy=h&&"documentMode"in document&&11>=document.documentMode,wr=null,ou=null,wi=null,lu=!1;function lf(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lu||wr==null||wr!==Is(u)||(u=wr,"selectionStart"in u&&su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wi&&vi(wi,u)||(wi=u,u=Qs(ou,"onSelect"),0<u.length&&(n=new Xl("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=wr)))}function Hs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Er={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},uu={},uf={};h&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Vs(e){if(uu[e])return uu[e];if(!Er[e])return e;var n=Er[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in uf)return uu[e]=n[s];return e}var af=Vs("animationend"),cf=Vs("animationiteration"),df=Vs("animationstart"),ff=Vs("transitionend"),hf=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,n){hf.set(e,n),a(n,[e])}for(var au=0;au<pf.length;au++){var cu=pf[au],fy=cu.toLowerCase(),hy=cu[0].toUpperCase()+cu.slice(1);wn(fy,"on"+hy)}wn(af,"onAnimationEnd"),wn(cf,"onAnimationIteration"),wn(df,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(ff,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function mf(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,f_(u,n,void 0,e),e.currentTarget=null}function gf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],c=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var p=u.length-1;0<=p;p--){var _=u[p],w=_.instance,T=_.currentTarget;if(_=_.listener,w!==f&&c.isPropagationStopped())break e;mf(c,_,T),f=w}else for(p=0;p<u.length;p++){if(_=u[p],w=_.instance,T=_.currentTarget,_=_.listener,w!==f&&c.isPropagationStopped())break e;mf(c,_,T),f=w}}}if(xs)throw e=Bl,xs=!1,Bl=null,e}function ke(e,n){var s=n[yu];s===void 0&&(s=n[yu]=new Set);var u=e+"__bubble";s.has(u)||(_f(n,e,2,!1),s.add(u))}function du(e,n,s){var u=0;n&&(u|=4),_f(s,e,u,n)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Ci(e){if(!e[$s]){e[$s]=!0,o.forEach(function(s){s!=="selectionchange"&&(py.has(s)||du(s,!1,e),du(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$s]||(n[$s]=!0,du("selectionchange",!1,n))}}function _f(e,n,s,u){switch(jd(n)){case 1:var c=x_;break;case 4:c=R_;break;default:c=Kl}s=c.bind(null,n,s,e),c=void 0,!Ul||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function fu(e,n,s,u,c){var f=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(p===4)for(p=u.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;p=p.return}for(;_!==null;){if(p=Vn(_),p===null)return;if(w=p.tag,w===5||w===6){u=f=p;continue e}_=_.parentNode}}u=u.return}Ed(function(){var T=f,P=bl(s),D=[];e:{var x=hf.get(e);if(x!==void 0){var z=Xl,B=e;switch(e){case"keypress":if(js(s)===0)break e;case"keydown":case"keyup":z=V_;break;case"focusin":B="focus",z=eu;break;case"focusout":B="blur",z=eu;break;case"beforeblur":case"afterblur":z=eu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=G_;break;case af:case cf:case df:z=L_;break;case ff:z=q_;break;case"scroll":z=P_;break;case"wheel":z=X_;break;case"copy":case"cut":case"paste":z=b_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Vd}var W=(n&4)!==0,Fe=!W&&e==="scroll",k=W?x!==null?x+"Capture":null:x;W=[];for(var E=T,I;E!==null;){I=E;var A=I.stateNode;if(I.tag===5&&A!==null&&(I=A,k!==null&&(A=ii(E,k),A!=null&&W.push(Si(E,A,I)))),Fe)break;E=E.return}0<W.length&&(x=new z(x,B,null,s,P),D.push({event:x,listeners:W}))}}if(!(n&7)){e:{if(x=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",x&&s!==Fl&&(B=s.relatedTarget||s.fromElement)&&(Vn(B)||B[Jt]))break e;if((z||x)&&(x=P.window===P?P:(x=P.ownerDocument)?x.defaultView||x.parentWindow:window,z?(B=s.relatedTarget||s.toElement,z=T,B=B?Vn(B):null,B!==null&&(Fe=Hn(B),B!==Fe||B.tag!==5&&B.tag!==6)&&(B=null)):(z=null,B=T),z!==B)){if(W=Wd,A="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(W=Vd,A="onPointerLeave",k="onPointerEnter",E="pointer"),Fe=z==null?x:kr(z),I=B==null?x:kr(B),x=new W(A,E+"leave",z,s,P),x.target=Fe,x.relatedTarget=I,A=null,Vn(P)===T&&(W=new W(k,E+"enter",B,s,P),W.target=I,W.relatedTarget=Fe,A=W),Fe=A,z&&B)t:{for(W=z,k=B,E=0,I=W;I;I=Cr(I))E++;for(I=0,A=k;A;A=Cr(A))I++;for(;0<E-I;)W=Cr(W),E--;for(;0<I-E;)k=Cr(k),I--;for(;E--;){if(W===k||k!==null&&W===k.alternate)break t;W=Cr(W),k=Cr(k)}W=null}else W=null;z!==null&&yf(D,x,z,W,!1),B!==null&&Fe!==null&&yf(D,Fe,B,W,!0)}}e:{if(x=T?kr(T):window,z=x.nodeName&&x.nodeName.toLowerCase(),z==="select"||z==="input"&&x.type==="file")var H=iy;else if(Yd(x))if(Jd)H=uy;else{H=oy;var Q=sy}else(z=x.nodeName)&&z.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(H=ly);if(H&&(H=H(e,T))){Xd(D,H,s,P);break e}Q&&Q(e,x,T),e==="focusout"&&(Q=x._wrapperState)&&Q.controlled&&x.type==="number"&&Dl(x,"number",x.value)}switch(Q=T?kr(T):window,e){case"focusin":(Yd(Q)||Q.contentEditable==="true")&&(wr=Q,ou=T,wi=null);break;case"focusout":wi=ou=wr=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,lf(D,s,P);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":lf(D,s,P)}var G;if(nu)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else vr?Kd(e,s)&&(J="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(J="onCompositionStart");J&&($d&&s.locale!=="ko"&&(vr||J!=="onCompositionStart"?J==="onCompositionEnd"&&vr&&(G=Ud()):(vn=P,Yl="value"in vn?vn.value:vn.textContent,vr=!0)),Q=Qs(T,J),0<Q.length&&(J=new Hd(J,e,null,s,P),D.push({event:J,listeners:Q}),G?J.data=G:(G=qd(s),G!==null&&(J.data=G)))),(G=Z_?ey(e,s):ty(e,s))&&(T=Qs(T,"onBeforeInput"),0<T.length&&(P=new Hd("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:T}),P.data=G))}gf(D,n)})}function Si(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Qs(e,n){for(var s=n+"Capture",u=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ii(e,s),f!=null&&u.unshift(Si(e,f,c)),f=ii(e,n),f!=null&&u.push(Si(e,f,c))),e=e.return}return u}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yf(e,n,s,u,c){for(var f=n._reactName,p=[];s!==null&&s!==u;){var _=s,w=_.alternate,T=_.stateNode;if(w!==null&&w===u)break;_.tag===5&&T!==null&&(_=T,c?(w=ii(s,f),w!=null&&p.unshift(Si(s,w,_))):c||(w=ii(s,f),w!=null&&p.push(Si(s,w,_)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var my=/\r\n?/g,gy=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(my,`
`).replace(gy,"")}function Gs(e,n,s){if(n=vf(n),vf(e)!==n&&s)throw Error(i(425))}function Ks(){}var hu=null,pu=null;function mu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(e){return wf.resolve(null).then(e).catch(vy)}:gu;function vy(e){setTimeout(function(){throw e})}function _u(e,n){var s=n,u=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(u===0){e.removeChild(c),hi(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=c}while(s);hi(n)}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ef(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Sr,ki="__reactProps$"+Sr,Jt="__reactContainer$"+Sr,yu="__reactEvents$"+Sr,wy="__reactListeners$"+Sr,Ey="__reactHandles$"+Sr;function Vn(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jt]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ef(e);e!==null;){if(s=e[$t])return s;e=Ef(e)}return n}e=s,s=e.parentNode}return null}function Ii(e){return e=e[$t]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function qs(e){return e[ki]||null}var vu=[],Ir=-1;function Cn(e){return{current:e}}function Ie(e){0>Ir||(e.current=vu[Ir],vu[Ir]=null,Ir--)}function ve(e,n){Ir++,vu[Ir]=e.current,e.current=n}var Sn={},Ze=Cn(Sn),ut=Cn(!1),$n=Sn;function Tr(e,n){var s=e.type.contextTypes;if(!s)return Sn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function at(e){return e=e.childContextTypes,e!=null}function Ys(){Ie(ut),Ie(Ze)}function Cf(e,n,s){if(Ze.current!==Sn)throw Error(i(168));ve(Ze,n),ve(ut,s)}function Sf(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var c in u)if(!(c in n))throw Error(i(108,ye(e)||"Unknown",c));return U({},s,u)}function Xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,$n=Ze.current,ve(Ze,e),ve(ut,ut.current),!0}function kf(e,n,s){var u=e.stateNode;if(!u)throw Error(i(169));s?(e=Sf(e,n,$n),u.__reactInternalMemoizedMergedChildContext=e,Ie(ut),Ie(Ze),ve(Ze,e)):Ie(ut),ve(ut,s)}var Zt=null,Js=!1,wu=!1;function If(e){Zt===null?Zt=[e]:Zt.push(e)}function Cy(e){Js=!0,If(e)}function kn(){if(!wu&&Zt!==null){wu=!0;var e=0,n=ge;try{var s=Zt;for(ge=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Zt=null,Js=!1}catch(c){throw Zt!==null&&(Zt=Zt.slice(e+1)),Td(Wl,kn),c}finally{ge=n,wu=!1}}return null}var Nr=[],xr=0,Zs=null,eo=0,kt=[],It=0,Qn=null,en=1,tn="";function Gn(e,n){Nr[xr++]=eo,Nr[xr++]=Zs,Zs=e,eo=n}function Tf(e,n,s){kt[It++]=en,kt[It++]=tn,kt[It++]=Qn,Qn=e;var u=en;e=tn;var c=32-At(u)-1;u&=~(1<<c),s+=1;var f=32-At(n)+c;if(30<f){var p=c-c%5;f=(u&(1<<p)-1).toString(32),u>>=p,c-=p,en=1<<32-At(n)+c|s<<c|u,tn=f+e}else en=1<<f|s<<c|u,tn=e}function Eu(e){e.return!==null&&(Gn(e,1),Tf(e,1,0))}function Cu(e){for(;e===Zs;)Zs=Nr[--xr],Nr[xr]=null,eo=Nr[--xr],Nr[xr]=null;for(;e===Qn;)Qn=kt[--It],kt[It]=null,tn=kt[--It],kt[It]=null,en=kt[--It],kt[It]=null}var yt=null,vt=null,xe=!1,Lt=null;function Nf(e,n){var s=Rt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function xf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yt=e,vt=En(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yt=e,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Qn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Rt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,yt=e,vt=null,!0):!1;default:return!1}}function Su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ku(e){if(xe){var n=vt;if(n){var s=n;if(!xf(e,n)){if(Su(e))throw Error(i(418));n=En(s.nextSibling);var u=yt;n&&xf(e,n)?Nf(u,s):(e.flags=e.flags&-4097|2,xe=!1,yt=e)}}else{if(Su(e))throw Error(i(418));e.flags=e.flags&-4097|2,xe=!1,yt=e}}}function Rf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function to(e){if(e!==yt)return!1;if(!xe)return Rf(e),xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!mu(e.type,e.memoizedProps)),n&&(n=vt)){if(Su(e))throw Pf(),Error(i(418));for(;n;)Nf(e,n),n=En(n.nextSibling)}if(Rf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){vt=En(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}vt=null}}else vt=yt?En(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=vt;e;)e=En(e.nextSibling)}function Rr(){vt=yt=null,xe=!1}function Iu(e){Lt===null?Lt=[e]:Lt.push(e)}var Sy=$.ReactCurrentBatchConfig;function Ti(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var u=s.stateNode}if(!u)throw Error(i(147,e));var c=u,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(p){var _=c.refs;p===null?delete _[f]:_[f]=p},n._stringRef=f,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function no(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Df(e){var n=e._init;return n(e._payload)}function Of(e){function n(k,E){if(e){var I=k.deletions;I===null?(k.deletions=[E],k.flags|=16):I.push(E)}}function s(k,E){if(!e)return null;for(;E!==null;)n(k,E),E=E.sibling;return null}function u(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function c(k,E){return k=On(k,E),k.index=0,k.sibling=null,k}function f(k,E,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<E?(k.flags|=2,E):I):(k.flags|=2,E)):(k.flags|=1048576,E)}function p(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,E,I,A){return E===null||E.tag!==6?(E=ga(I,k.mode,A),E.return=k,E):(E=c(E,I),E.return=k,E)}function w(k,E,I,A){var H=I.type;return H===ue?P(k,E,I.props.children,A,I.key):E!==null&&(E.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===lt&&Df(H)===E.type)?(A=c(E,I.props),A.ref=Ti(k,E,I),A.return=k,A):(A=No(I.type,I.key,I.props,null,k.mode,A),A.ref=Ti(k,E,I),A.return=k,A)}function T(k,E,I,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=_a(I,k.mode,A),E.return=k,E):(E=c(E,I.children||[]),E.return=k,E)}function P(k,E,I,A,H){return E===null||E.tag!==7?(E=tr(I,k.mode,A,H),E.return=k,E):(E=c(E,I),E.return=k,E)}function D(k,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ga(""+E,k.mode,I),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case X:return I=No(E.type,E.key,E.props,null,k.mode,I),I.ref=Ti(k,null,E),I.return=k,I;case K:return E=_a(E,k.mode,I),E.return=k,E;case lt:var A=E._init;return D(k,A(E._payload),I)}if(ti(E)||q(E))return E=tr(E,k.mode,I,null),E.return=k,E;no(k,E)}return null}function x(k,E,I,A){var H=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return H!==null?null:_(k,E,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case X:return I.key===H?w(k,E,I,A):null;case K:return I.key===H?T(k,E,I,A):null;case lt:return H=I._init,x(k,E,H(I._payload),A)}if(ti(I)||q(I))return H!==null?null:P(k,E,I,A,null);no(k,I)}return null}function z(k,E,I,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return k=k.get(I)||null,_(E,k,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case X:return k=k.get(A.key===null?I:A.key)||null,w(E,k,A,H);case K:return k=k.get(A.key===null?I:A.key)||null,T(E,k,A,H);case lt:var Q=A._init;return z(k,E,I,Q(A._payload),H)}if(ti(A)||q(A))return k=k.get(I)||null,P(E,k,A,H,null);no(E,A)}return null}function B(k,E,I,A){for(var H=null,Q=null,G=E,J=E=0,$e=null;G!==null&&J<I.length;J++){G.index>J?($e=G,G=null):$e=G.sibling;var he=x(k,G,I[J],A);if(he===null){G===null&&(G=$e);break}e&&G&&he.alternate===null&&n(k,G),E=f(he,E,J),Q===null?H=he:Q.sibling=he,Q=he,G=$e}if(J===I.length)return s(k,G),xe&&Gn(k,J),H;if(G===null){for(;J<I.length;J++)G=D(k,I[J],A),G!==null&&(E=f(G,E,J),Q===null?H=G:Q.sibling=G,Q=G);return xe&&Gn(k,J),H}for(G=u(k,G);J<I.length;J++)$e=z(G,k,J,I[J],A),$e!==null&&(e&&$e.alternate!==null&&G.delete($e.key===null?J:$e.key),E=f($e,E,J),Q===null?H=$e:Q.sibling=$e,Q=$e);return e&&G.forEach(function(An){return n(k,An)}),xe&&Gn(k,J),H}function W(k,E,I,A){var H=q(I);if(typeof H!="function")throw Error(i(150));if(I=H.call(I),I==null)throw Error(i(151));for(var Q=H=null,G=E,J=E=0,$e=null,he=I.next();G!==null&&!he.done;J++,he=I.next()){G.index>J?($e=G,G=null):$e=G.sibling;var An=x(k,G,he.value,A);if(An===null){G===null&&(G=$e);break}e&&G&&An.alternate===null&&n(k,G),E=f(An,E,J),Q===null?H=An:Q.sibling=An,Q=An,G=$e}if(he.done)return s(k,G),xe&&Gn(k,J),H;if(G===null){for(;!he.done;J++,he=I.next())he=D(k,he.value,A),he!==null&&(E=f(he,E,J),Q===null?H=he:Q.sibling=he,Q=he);return xe&&Gn(k,J),H}for(G=u(k,G);!he.done;J++,he=I.next())he=z(G,k,J,he.value,A),he!==null&&(e&&he.alternate!==null&&G.delete(he.key===null?J:he.key),E=f(he,E,J),Q===null?H=he:Q.sibling=he,Q=he);return e&&G.forEach(function(tv){return n(k,tv)}),xe&&Gn(k,J),H}function Fe(k,E,I,A){if(typeof I=="object"&&I!==null&&I.type===ue&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case X:e:{for(var H=I.key,Q=E;Q!==null;){if(Q.key===H){if(H=I.type,H===ue){if(Q.tag===7){s(k,Q.sibling),E=c(Q,I.props.children),E.return=k,k=E;break e}}else if(Q.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===lt&&Df(H)===Q.type){s(k,Q.sibling),E=c(Q,I.props),E.ref=Ti(k,Q,I),E.return=k,k=E;break e}s(k,Q);break}else n(k,Q);Q=Q.sibling}I.type===ue?(E=tr(I.props.children,k.mode,A,I.key),E.return=k,k=E):(A=No(I.type,I.key,I.props,null,k.mode,A),A.ref=Ti(k,E,I),A.return=k,k=A)}return p(k);case K:e:{for(Q=I.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){s(k,E.sibling),E=c(E,I.children||[]),E.return=k,k=E;break e}else{s(k,E);break}else n(k,E);E=E.sibling}E=_a(I,k.mode,A),E.return=k,k=E}return p(k);case lt:return Q=I._init,Fe(k,E,Q(I._payload),A)}if(ti(I))return B(k,E,I,A);if(q(I))return W(k,E,I,A);no(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(s(k,E.sibling),E=c(E,I),E.return=k,k=E):(s(k,E),E=ga(I,k.mode,A),E.return=k,k=E),p(k)):s(k,E)}return Fe}var Pr=Of(!0),Af=Of(!1),ro=Cn(null),io=null,Dr=null,Tu=null;function Nu(){Tu=Dr=io=null}function xu(e){var n=ro.current;Ie(ro),e._currentValue=n}function Ru(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function Or(e,n){io=e,Tu=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ct=!0),e.firstContext=null)}function Tt(e){var n=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:n,next:null},Dr===null){if(io===null)throw Error(i(308));Dr=e,io.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return n}var Kn=null;function Pu(e){Kn===null?Kn=[e]:Kn.push(e)}function Mf(e,n,s,u){var c=n.interleaved;return c===null?(s.next=s,Pu(n)):(s.next=c.next,c.next=s),n.interleaved=s,nn(e,u)}function nn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var In=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,ce&2){var c=u.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),u.pending=n,nn(e,s)}return c=u.interleaved,c===null?(n.next=n,Pu(u)):(n.next=c.next,c.next=n),u.interleaved=n,nn(e,s)}function so(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,$l(e,s)}}function Ff(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function oo(e,n,s,u){var c=e.updateQueue;In=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var w=_,T=w.next;w.next=null,p===null?f=T:p.next=T,p=w;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==p&&(_===null?P.firstBaseUpdate=T:_.next=T,P.lastBaseUpdate=w))}if(f!==null){var D=c.baseState;p=0,P=T=w=null,_=f;do{var x=_.lane,z=_.eventTime;if((u&x)===x){P!==null&&(P=P.next={eventTime:z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(x=n,z=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){D=B.call(z,D,x);break e}D=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,x=typeof B=="function"?B.call(z,D,x):B,x==null)break e;D=U({},D,x);break e;case 2:In=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,x=c.effects,x===null?c.effects=[_]:x.push(_))}else z={eventTime:z,lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(T=P=z,w=D):P=P.next=z,p|=x;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;x=_,_=x.next,x.next=null,c.lastBaseUpdate=x,c.shared.pending=null}}while(!0);if(P===null&&(w=D),c.baseState=w,c.firstBaseUpdate=T,c.lastBaseUpdate=P,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Xn|=p,e.lanes=p,e.memoizedState=D}}function bf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],c=u.callback;if(c!==null){if(u.callback=null,u=s,typeof c!="function")throw Error(i(191,c));c.call(u)}}}var Ni={},Qt=Cn(Ni),xi=Cn(Ni),Ri=Cn(Ni);function qn(e){if(e===Ni)throw Error(i(174));return e}function Ou(e,n){switch(ve(Ri,n),ve(xi,e),ve(Qt,Ni),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Al(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Al(n,e)}Ie(Qt),ve(Qt,n)}function Ar(){Ie(Qt),Ie(xi),Ie(Ri)}function zf(e){qn(Ri.current);var n=qn(Qt.current),s=Al(n,e.type);n!==s&&(ve(xi,e),ve(Qt,s))}function Au(e){xi.current===e&&(Ie(Qt),Ie(xi))}var Re=Cn(0);function lo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mu=[];function Lu(){for(var e=0;e<Mu.length;e++)Mu[e]._workInProgressVersionPrimary=null;Mu.length=0}var uo=$.ReactCurrentDispatcher,Fu=$.ReactCurrentBatchConfig,Yn=0,Pe=null,ze=null,He=null,ao=!1,Pi=!1,Di=0,ky=0;function et(){throw Error(i(321))}function bu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Mt(e[s],n[s]))return!1;return!0}function zu(e,n,s,u,c,f){if(Yn=f,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,uo.current=e===null||e.memoizedState===null?xy:Ry,e=s(u,c),Pi){f=0;do{if(Pi=!1,Di=0,25<=f)throw Error(i(301));f+=1,He=ze=null,n.updateQueue=null,uo.current=Py,e=s(u,c)}while(Pi)}if(uo.current=ho,n=ze!==null&&ze.next!==null,Yn=0,He=ze=Pe=null,ao=!1,n)throw Error(i(300));return e}function ju(){var e=Di!==0;return Di=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Pe.memoizedState=He=e:He=He.next=e,He}function Nt(){if(ze===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var n=He===null?Pe.memoizedState:He.next;if(n!==null)He=n,ze=e;else{if(e===null)throw Error(i(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},He===null?Pe.memoizedState=He=e:He=He.next=e}return He}function Oi(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=Nt(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var u=ze,c=u.baseQueue,f=s.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}u.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,u=u.baseState;var _=p=null,w=null,T=f;do{var P=T.lane;if((Yn&P)===P)w!==null&&(w=w.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),u=T.hasEagerState?T.eagerState:e(u,T.action);else{var D={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};w===null?(_=w=D,p=u):w=w.next=D,Pe.lanes|=P,Xn|=P}T=T.next}while(T!==null&&T!==f);w===null?p=u:w.next=_,Mt(u,n.memoizedState)||(ct=!0),n.memoizedState=u,n.baseState=p,n.baseQueue=w,s.lastRenderedState=u}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Pe.lanes|=f,Xn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Bu(e){var n=Nt(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var u=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Mt(f,n.memoizedState)||(ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,u]}function jf(){}function Uf(e,n){var s=Pe,u=Nt(),c=n(),f=!Mt(u.memoizedState,c);if(f&&(u.memoizedState=c,ct=!0),u=u.queue,Wu(Hf.bind(null,s,u,e),[e]),u.getSnapshot!==n||f||He!==null&&He.memoizedState.tag&1){if(s.flags|=2048,Ai(9,Wf.bind(null,s,u,c,n),void 0,null),Ve===null)throw Error(i(349));Yn&30||Bf(s,n,c)}return c}function Bf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wf(e,n,s,u){n.value=s,n.getSnapshot=u,Vf(n)&&$f(e)}function Hf(e,n,s){return s(function(){Vf(n)&&$f(e)})}function Vf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Mt(e,s)}catch{return!0}}function $f(e){var n=nn(e,1);n!==null&&jt(n,e,1,-1)}function Qf(e){var n=Gt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n.queue=e,e=e.dispatch=Ny.bind(null,Pe,e),[n.memoizedState,e]}function Ai(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function Gf(){return Nt().memoizedState}function co(e,n,s,u){var c=Gt();Pe.flags|=e,c.memoizedState=Ai(1|n,s,void 0,u===void 0?null:u)}function fo(e,n,s,u){var c=Nt();u=u===void 0?null:u;var f=void 0;if(ze!==null){var p=ze.memoizedState;if(f=p.destroy,u!==null&&bu(u,p.deps)){c.memoizedState=Ai(n,s,f,u);return}}Pe.flags|=e,c.memoizedState=Ai(1|n,s,f,u)}function Kf(e,n){return co(8390656,8,e,n)}function Wu(e,n){return fo(2048,8,e,n)}function qf(e,n){return fo(4,2,e,n)}function Yf(e,n){return fo(4,4,e,n)}function Xf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Jf(e,n,s){return s=s!=null?s.concat([e]):null,fo(4,4,Xf.bind(null,n,e),s)}function Hu(){}function Zf(e,n){var s=Nt();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&bu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function eh(e,n){var s=Nt();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&bu(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function th(e,n,s){return Yn&21?(Mt(s,n)||(s=Pd(),Pe.lanes|=s,Xn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=s)}function Iy(e,n){var s=ge;ge=s!==0&&4>s?s:4,e(!0);var u=Fu.transition;Fu.transition={};try{e(!1),n()}finally{ge=s,Fu.transition=u}}function nh(){return Nt().memoizedState}function Ty(e,n,s){var u=Pn(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},rh(e))ih(n,s);else if(s=Mf(e,n,s,u),s!==null){var c=it();jt(s,e,u,c),sh(s,n,u)}}function Ny(e,n,s){var u=Pn(e),c={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(rh(e))ih(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,_=f(p,s);if(c.hasEagerState=!0,c.eagerState=_,Mt(_,p)){var w=n.interleaved;w===null?(c.next=c,Pu(n)):(c.next=w.next,w.next=c),n.interleaved=c;return}}catch{}finally{}s=Mf(e,n,c,u),s!==null&&(c=it(),jt(s,e,u,c),sh(s,n,u))}}function rh(e){var n=e.alternate;return e===Pe||n!==null&&n===Pe}function ih(e,n){Pi=ao=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function sh(e,n,s){if(s&4194240){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,$l(e,s)}}var ho={readContext:Tt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},xy={readContext:Tt,useCallback:function(e,n){return Gt().memoizedState=[e,n===void 0?null:n],e},useContext:Tt,useEffect:Kf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,co(4194308,4,Xf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return co(4194308,4,e,n)},useInsertionEffect:function(e,n){return co(4,2,e,n)},useMemo:function(e,n){var s=Gt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=Gt();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Ty.bind(null,Pe,e),[u.memoizedState,e]},useRef:function(e){var n=Gt();return e={current:e},n.memoizedState=e},useState:Qf,useDebugValue:Hu,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Qf(!1),n=e[0];return e=Iy.bind(null,e[1]),Gt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Pe,c=Gt();if(xe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),Ve===null)throw Error(i(349));Yn&30||Bf(u,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Kf(Hf.bind(null,u,f,e),[e]),u.flags|=2048,Ai(9,Wf.bind(null,u,f,s,n),void 0,null),s},useId:function(){var e=Gt(),n=Ve.identifierPrefix;if(xe){var s=tn,u=en;s=(u&~(1<<32-At(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Di++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ky++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ry={readContext:Tt,useCallback:Zf,useContext:Tt,useEffect:Wu,useImperativeHandle:Jf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:eh,useReducer:Uu,useRef:Gf,useState:function(){return Uu(Oi)},useDebugValue:Hu,useDeferredValue:function(e){var n=Nt();return th(n,ze.memoizedState,e)},useTransition:function(){var e=Uu(Oi)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:jf,useSyncExternalStore:Uf,useId:nh,unstable_isNewReconciler:!1},Py={readContext:Tt,useCallback:Zf,useContext:Tt,useEffect:Wu,useImperativeHandle:Jf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:eh,useReducer:Bu,useRef:Gf,useState:function(){return Bu(Oi)},useDebugValue:Hu,useDeferredValue:function(e){var n=Nt();return ze===null?n.memoizedState=e:th(n,ze.memoizedState,e)},useTransition:function(){var e=Bu(Oi)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:jf,useSyncExternalStore:Uf,useId:nh,unstable_isNewReconciler:!1};function Ft(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Vu(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var po={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=it(),c=Pn(e),f=rn(u,c);f.payload=n,s!=null&&(f.callback=s),n=Tn(e,f,c),n!==null&&(jt(n,e,c,u),so(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=it(),c=Pn(e),f=rn(u,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Tn(e,f,c),n!==null&&(jt(n,e,c,u),so(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=it(),u=Pn(e),c=rn(s,u);c.tag=2,n!=null&&(c.callback=n),n=Tn(e,c,u),n!==null&&(jt(n,e,u,s),so(n,e,u))}};function oh(e,n,s,u,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,p):n.prototype&&n.prototype.isPureReactComponent?!vi(s,u)||!vi(c,f):!0}function lh(e,n,s){var u=!1,c=Sn,f=n.contextType;return typeof f=="object"&&f!==null?f=Tt(f):(c=at(n)?$n:Ze.current,u=n.contextTypes,f=(u=u!=null)?Tr(e,c):Sn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=po,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function uh(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&po.enqueueReplaceState(n,n.state,null)}function $u(e,n,s,u){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Du(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Tt(f):(f=at(n)?$n:Ze.current,c.context=Tr(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Vu(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&po.enqueueReplaceState(c,c.state,null),oo(e,s,c,u),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,n){try{var s="",u=n;do s+=de(u),u=u.return;while(u);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Qu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Gu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Dy=typeof WeakMap=="function"?WeakMap:Map;function ah(e,n,s){s=rn(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){Eo||(Eo=!0,ua=u),Gu(e,n)},s}function ch(e,n,s){s=rn(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var c=n.value;s.payload=function(){return u(c)},s.callback=function(){Gu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Gu(e,n),typeof u!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),s}function dh(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new Dy;var c=new Set;u.set(n,c)}else c=u.get(n),c===void 0&&(c=new Set,u.set(n,c));c.has(s)||(c.add(s),e=$y.bind(null,e,n,s),n.then(e,e))}function fh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function hh(e,n,s,u,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=rn(-1,1),n.tag=2,Tn(s,n,1))),s.lanes|=1),e)}var Oy=$.ReactCurrentOwner,ct=!1;function rt(e,n,s,u){n.child=e===null?Af(n,null,s,u):Pr(n,e.child,s,u)}function ph(e,n,s,u,c){s=s.render;var f=n.ref;return Or(n,c),u=zu(e,n,s,u,f,c),s=ju(),e!==null&&!ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sn(e,n,c)):(xe&&s&&Eu(n),n.flags|=1,rt(e,n,u,c),n.child)}function mh(e,n,s,u,c){if(e===null){var f=s.type;return typeof f=="function"&&!ma(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,gh(e,n,f,u,c)):(e=No(s.type,null,u,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:vi,s(p,u)&&e.ref===n.ref)return sn(e,n,c)}return n.flags|=1,e=On(f,u),e.ref=n.ref,e.return=n,n.child=e}function gh(e,n,s,u,c){if(e!==null){var f=e.memoizedProps;if(vi(f,u)&&e.ref===n.ref)if(ct=!1,n.pendingProps=u=f,(e.lanes&c)!==0)e.flags&131072&&(ct=!0);else return n.lanes=e.lanes,sn(e,n,c)}return Ku(e,n,s,u,c)}function _h(e,n,s){var u=n.pendingProps,c=u.children,f=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Fr,wt),wt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ve(Fr,wt),wt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:s,ve(Fr,wt),wt|=u}else f!==null?(u=f.baseLanes|s,n.memoizedState=null):u=s,ve(Fr,wt),wt|=u;return rt(e,n,c,s),n.child}function yh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ku(e,n,s,u,c){var f=at(s)?$n:Ze.current;return f=Tr(n,f),Or(n,c),s=zu(e,n,s,u,f,c),u=ju(),e!==null&&!ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sn(e,n,c)):(xe&&u&&Eu(n),n.flags|=1,rt(e,n,s,c),n.child)}function vh(e,n,s,u,c){if(at(s)){var f=!0;Xs(n)}else f=!1;if(Or(n,c),n.stateNode===null)go(e,n),lh(n,s,u),$u(n,s,u,c),u=!0;else if(e===null){var p=n.stateNode,_=n.memoizedProps;p.props=_;var w=p.context,T=s.contextType;typeof T=="object"&&T!==null?T=Tt(T):(T=at(s)?$n:Ze.current,T=Tr(n,T));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==u||w!==T)&&uh(n,p,u,T),In=!1;var x=n.memoizedState;p.state=x,oo(n,u,p,c),w=n.memoizedState,_!==u||x!==w||ut.current||In?(typeof P=="function"&&(Vu(n,s,P,u),w=n.memoizedState),(_=In||oh(n,s,_,u,x,w,T))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=w),p.props=u,p.state=w,p.context=T,u=_):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Lf(e,n),_=n.memoizedProps,T=n.type===n.elementType?_:Ft(n.type,_),p.props=T,D=n.pendingProps,x=p.context,w=s.contextType,typeof w=="object"&&w!==null?w=Tt(w):(w=at(s)?$n:Ze.current,w=Tr(n,w));var z=s.getDerivedStateFromProps;(P=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==D||x!==w)&&uh(n,p,u,w),In=!1,x=n.memoizedState,p.state=x,oo(n,u,p,c);var B=n.memoizedState;_!==D||x!==B||ut.current||In?(typeof z=="function"&&(Vu(n,s,z,u),B=n.memoizedState),(T=In||oh(n,s,T,u,x,B,w)||!1)?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,B,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,B,w)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),p.props=u,p.state=B,p.context=w,u=T):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),u=!1)}return qu(e,n,s,u,f,c)}function qu(e,n,s,u,c,f){yh(e,n);var p=(n.flags&128)!==0;if(!u&&!p)return c&&kf(n,s,!1),sn(e,n,f);u=n.stateNode,Oy.current=n;var _=p&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&p?(n.child=Pr(n,e.child,null,f),n.child=Pr(n,null,_,f)):rt(e,n,_,f),n.memoizedState=u.state,c&&kf(n,s,!0),n.child}function wh(e){var n=e.stateNode;n.pendingContext?Cf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Cf(e,n.context,!1),Ou(e,n.containerInfo)}function Eh(e,n,s,u,c){return Rr(),Iu(c),n.flags|=256,rt(e,n,s,u),n.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,n,s){var u=n.pendingProps,c=Re.current,f=!1,p=(n.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ve(Re,c&1),e===null)return ku(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=u.children,e=u.fallback,f?(u=n.mode,f=n.child,p={mode:"hidden",children:p},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=xo(p,u,0,null),e=tr(e,u,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Xu(s),n.memoizedState=Yu,e):Ju(n,p));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return Ay(e,n,p,u,_,c,s);if(f){f=u.fallback,p=n.mode,c=e.child,_=c.sibling;var w={mode:"hidden",children:u.children};return!(p&1)&&n.child!==c?(u=n.child,u.childLanes=0,u.pendingProps=w,n.deletions=null):(u=On(c,w),u.subtreeFlags=c.subtreeFlags&14680064),_!==null?f=On(_,f):(f=tr(f,p,s,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,p=e.child.memoizedState,p=p===null?Xu(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~s,n.memoizedState=Yu,u}return f=e.child,e=f.sibling,u=On(f,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function Ju(e,n){return n=xo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function mo(e,n,s,u){return u!==null&&Iu(u),Pr(n,e.child,null,s),e=Ju(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ay(e,n,s,u,c,f,p){if(s)return n.flags&256?(n.flags&=-257,u=Qu(Error(i(422))),mo(e,n,p,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=u.fallback,c=n.mode,u=xo({mode:"visible",children:u.children},c,0,null),f=tr(f,c,p,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,n.mode&1&&Pr(n,e.child,null,p),n.child.memoizedState=Xu(p),n.memoizedState=Yu,f);if(!(n.mode&1))return mo(e,n,p,null);if(c.data==="$!"){if(u=c.nextSibling&&c.nextSibling.dataset,u)var _=u.dgst;return u=_,f=Error(i(419)),u=Qu(f,u,void 0),mo(e,n,p,u)}if(_=(p&e.childLanes)!==0,ct||_){if(u=Ve,u!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(u.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,nn(e,c),jt(u,e,c,-1))}return pa(),u=Qu(Error(i(421))),mo(e,n,p,u)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Qy.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,vt=En(c.nextSibling),yt=n,xe=!0,Lt=null,e!==null&&(kt[It++]=en,kt[It++]=tn,kt[It++]=Qn,en=e.id,tn=e.overflow,Qn=n),n=Ju(n,u.children),n.flags|=4096,n)}function Sh(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Ru(e.return,n,s)}function Zu(e,n,s,u,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=s,f.tailMode=c)}function kh(e,n,s){var u=n.pendingProps,c=u.revealOrder,f=u.tail;if(rt(e,n,u.children,s),u=Re.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sh(e,s,n);else if(e.tag===19)Sh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ve(Re,u),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&lo(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Zu(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&lo(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Zu(n,!0,s,null,f);break;case"together":Zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function go(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Xn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=On(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=On(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function My(e,n,s){switch(n.tag){case 3:wh(n),Rr();break;case 5:zf(n);break;case 1:at(n.type)&&Xs(n);break;case 4:Ou(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,c=n.memoizedProps.value;ve(ro,u._currentValue),u._currentValue=c;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(ve(Re,Re.current&1),n.flags|=128,null):s&n.child.childLanes?Ch(e,n,s):(ve(Re,Re.current&1),e=sn(e,n,s),e!==null?e.sibling:null);ve(Re,Re.current&1);break;case 19:if(u=(s&n.childLanes)!==0,e.flags&128){if(u)return kh(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ve(Re,Re.current),u)break;return null;case 22:case 23:return n.lanes=0,_h(e,n,s)}return sn(e,n,s)}var Ih,ea,Th,Nh;Ih=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ea=function(){},Th=function(e,n,s,u){var c=e.memoizedProps;if(c!==u){e=n.stateNode,qn(Qt.current);var f=null;switch(s){case"input":c=Rl(e,c),u=Rl(e,u),f=[];break;case"select":c=U({},c,{value:void 0}),u=U({},u,{value:void 0}),f=[];break;case"textarea":c=Ol(e,c),u=Ol(e,u),f=[];break;default:typeof c.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Ks)}Ml(s,u);var p;s=null;for(T in c)if(!u.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var _=c[T];for(p in _)_.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in u){var w=u[T];if(_=c!=null?c[T]:void 0,u.hasOwnProperty(T)&&w!==_&&(w!=null||_!=null))if(T==="style")if(_){for(p in _)!_.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in w)w.hasOwnProperty(p)&&_[p]!==w[p]&&(s||(s={}),s[p]=w[p])}else s||(f||(f=[]),f.push(T,s)),s=w;else T==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,_=_?_.__html:void 0,w!=null&&_!==w&&(f=f||[]).push(T,w)):T==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(T,""+w):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(w!=null&&T==="onScroll"&&ke("scroll",e),f||_===w||(f=[])):(f=f||[]).push(T,w))}s&&(f=f||[]).push("style",s);var T=f;(n.updateQueue=T)&&(n.flags|=4)}},Nh=function(e,n,s,u){s!==u&&(n.flags|=4)};function Mi(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags&14680064,u|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function Ly(e,n,s){var u=n.pendingProps;switch(Cu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return at(n.type)&&Ys(),tt(n),null;case 3:return u=n.stateNode,Ar(),Ie(ut),Ie(Ze),Lu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(to(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Lt!==null&&(da(Lt),Lt=null))),ea(e,n),tt(n),null;case 5:Au(n);var c=qn(Ri.current);if(s=n.type,e!==null&&n.stateNode!=null)Th(e,n,s,u,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(i(166));return tt(n),null}if(e=qn(Qt.current),to(n)){u=n.stateNode,s=n.type;var f=n.memoizedProps;switch(u[$t]=n,u[ki]=f,e=(n.mode&1)!==0,s){case"dialog":ke("cancel",u),ke("close",u);break;case"iframe":case"object":case"embed":ke("load",u);break;case"video":case"audio":for(c=0;c<Ei.length;c++)ke(Ei[c],u);break;case"source":ke("error",u);break;case"img":case"image":case"link":ke("error",u),ke("load",u);break;case"details":ke("toggle",u);break;case"input":od(u,f),ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},ke("invalid",u);break;case"textarea":ad(u,f),ke("invalid",u)}Ml(s,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var _=f[p];p==="children"?typeof _=="string"?u.textContent!==_&&(f.suppressHydrationWarning!==!0&&Gs(u.textContent,_,e),c=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Gs(u.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(p)&&_!=null&&p==="onScroll"&&ke("scroll",u)}switch(s){case"input":ks(u),ud(u,f,!0);break;case"textarea":ks(u),dd(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Ks)}u=c,n.updateQueue=u,u!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=p.createElement(s,{is:u.is}):(e=p.createElement(s),s==="select"&&(p=e,u.multiple?p.multiple=!0:u.size&&(p.size=u.size))):e=p.createElementNS(e,s),e[$t]=n,e[ki]=u,Ih(e,n,!1,!1),n.stateNode=e;e:{switch(p=Ll(s,u),s){case"dialog":ke("cancel",e),ke("close",e),c=u;break;case"iframe":case"object":case"embed":ke("load",e),c=u;break;case"video":case"audio":for(c=0;c<Ei.length;c++)ke(Ei[c],e);c=u;break;case"source":ke("error",e),c=u;break;case"img":case"image":case"link":ke("error",e),ke("load",e),c=u;break;case"details":ke("toggle",e),c=u;break;case"input":od(e,u),c=Rl(e,u),ke("invalid",e);break;case"option":c=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},c=U({},u,{value:void 0}),ke("invalid",e);break;case"textarea":ad(e,u),c=Ol(e,u),ke("invalid",e);break;default:c=u}Ml(s,c),_=c;for(f in _)if(_.hasOwnProperty(f)){var w=_[f];f==="style"?md(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&hd(e,w)):f==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&ni(e,w):typeof w=="number"&&ni(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?w!=null&&f==="onScroll"&&ke("scroll",e):w!=null&&le(e,f,w,p))}switch(s){case"input":ks(e),ud(e,u,!1);break;case"textarea":ks(e),dd(e);break;case"option":u.value!=null&&e.setAttribute("value",""+me(u.value));break;case"select":e.multiple=!!u.multiple,f=u.value,f!=null?pr(e,!!u.multiple,f,!1):u.defaultValue!=null&&pr(e,!!u.multiple,u.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ks)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return tt(n),null;case 6:if(e&&n.stateNode!=null)Nh(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(s=qn(Ri.current),qn(Qt.current),to(n)){if(u=n.stateNode,s=n.memoizedProps,u[$t]=n,(f=u.nodeValue!==s)&&(e=yt,e!==null))switch(e.tag){case 3:Gs(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gs(u.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[$t]=n,n.stateNode=u}return tt(n),null;case 13:if(Ie(Re),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&n.mode&1&&!(n.flags&128))Pf(),Rr(),n.flags|=98560,f=!1;else if(f=to(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[$t]=n}else Rr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;tt(n),f=!1}else Lt!==null&&(da(Lt),Lt=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||Re.current&1?je===0&&(je=3):pa())),n.updateQueue!==null&&(n.flags|=4),tt(n),null);case 4:return Ar(),ea(e,n),e===null&&Ci(n.stateNode.containerInfo),tt(n),null;case 10:return xu(n.type._context),tt(n),null;case 17:return at(n.type)&&Ys(),tt(n),null;case 19:if(Ie(Re),f=n.memoizedState,f===null)return tt(n),null;if(u=(n.flags&128)!==0,p=f.rendering,p===null)if(u)Mi(f,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=lo(e),p!==null){for(n.flags|=128,Mi(f,!1),u=p.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)f=s,e=u,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ve(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&Le()>br&&(n.flags|=128,u=!0,Mi(f,!1),n.lanes=4194304)}else{if(!u)if(e=lo(p),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!xe)return tt(n),null}else 2*Le()-f.renderingStartTime>br&&s!==1073741824&&(n.flags|=128,u=!0,Mi(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(s=f.last,s!==null?s.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Le(),n.sibling=null,s=Re.current,ve(Re,u?s&1|2:s&1),n):(tt(n),null);case 22:case 23:return ha(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?wt&1073741824&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function Fy(e,n){switch(Cu(n),n.tag){case 1:return at(n.type)&&Ys(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ar(),Ie(ut),Ie(Ze),Lu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Au(n),null;case 13:if(Ie(Re),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ie(Re),null;case 4:return Ar(),null;case 10:return xu(n.type._context),null;case 22:case 23:return ha(),null;case 24:return null;default:return null}}var _o=!1,nt=!1,by=typeof WeakSet=="function"?WeakSet:Set,j=null;function Lr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Oe(e,n,u)}else s.current=null}function ta(e,n,s){try{s()}catch(u){Oe(e,n,u)}}var xh=!1;function zy(e,n){if(hu=Fs,e=of(),su(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,_=-1,w=-1,T=0,P=0,D=e,x=null;t:for(;;){for(var z;D!==s||c!==0&&D.nodeType!==3||(_=p+c),D!==f||u!==0&&D.nodeType!==3||(w=p+u),D.nodeType===3&&(p+=D.nodeValue.length),(z=D.firstChild)!==null;)x=D,D=z;for(;;){if(D===e)break t;if(x===s&&++T===c&&(_=p),x===f&&++P===u&&(w=p),(z=D.nextSibling)!==null)break;D=x,x=D.parentNode}D=z}s=_===-1||w===-1?null:{start:_,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(pu={focusedElem:e,selectionRange:s},Fs=!1,j=n;j!==null;)if(n=j,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,j=e;else for(;j!==null;){n=j;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Fe=B.memoizedState,k=n.stateNode,E=k.getSnapshotBeforeUpdate(n.elementType===n.type?W:Ft(n.type,W),Fe);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(A){Oe(n,n.return,A)}if(e=n.sibling,e!==null){e.return=n.return,j=e;break}j=n.return}return B=xh,xh=!1,B}function Li(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var c=u=u.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&ta(n,s,f)}c=c.next}while(c!==u)}}function yo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function na(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Rh(e){var n=e.alternate;n!==null&&(e.alternate=null,Rh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$t],delete n[ki],delete n[yu],delete n[wy],delete n[Ey])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function Dh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ra(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ks));else if(u!==4&&(e=e.child,e!==null))for(ra(e,n,s),e=e.sibling;e!==null;)ra(e,n,s),e=e.sibling}function ia(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(ia(e,n,s),e=e.sibling;e!==null;)ia(e,n,s),e=e.sibling}var Ke=null,bt=!1;function Nn(e,n,s){for(s=s.child;s!==null;)Oh(e,n,s),s=s.sibling}function Oh(e,n,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ps,s)}catch{}switch(s.tag){case 5:nt||Lr(s,n);case 6:var u=Ke,c=bt;Ke=null,Nn(e,n,s),Ke=u,bt=c,Ke!==null&&(bt?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(bt?(e=Ke,s=s.stateNode,e.nodeType===8?_u(e.parentNode,s):e.nodeType===1&&_u(e,s),hi(e)):_u(Ke,s.stateNode));break;case 4:u=Ke,c=bt,Ke=s.stateNode.containerInfo,bt=!0,Nn(e,n,s),Ke=u,bt=c;break;case 0:case 11:case 14:case 15:if(!nt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){c=u=u.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&ta(s,n,p),c=c.next}while(c!==u)}Nn(e,n,s);break;case 1:if(!nt&&(Lr(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(_){Oe(s,n,_)}Nn(e,n,s);break;case 21:Nn(e,n,s);break;case 22:s.mode&1?(nt=(u=nt)||s.memoizedState!==null,Nn(e,n,s),nt=u):Nn(e,n,s);break;default:Nn(e,n,s)}}function Ah(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new by),n.forEach(function(u){var c=Gy.bind(null,e,u);s.has(u)||(s.add(u),u.then(c,c))})}}function zt(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var c=s[u];try{var f=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 5:Ke=_.stateNode,bt=!1;break e;case 3:Ke=_.stateNode.containerInfo,bt=!0;break e;case 4:Ke=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(Ke===null)throw Error(i(160));Oh(f,p,c),Ke=null,bt=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(T){Oe(c,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Mh(n,e),n=n.sibling}function Mh(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(n,e),Kt(e),u&4){try{Li(3,e,e.return),yo(3,e)}catch(W){Oe(e,e.return,W)}try{Li(5,e,e.return)}catch(W){Oe(e,e.return,W)}}break;case 1:zt(n,e),Kt(e),u&512&&s!==null&&Lr(s,s.return);break;case 5:if(zt(n,e),Kt(e),u&512&&s!==null&&Lr(s,s.return),e.flags&32){var c=e.stateNode;try{ni(c,"")}catch(W){Oe(e,e.return,W)}}if(u&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,p=s!==null?s.memoizedProps:f,_=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&ld(c,f),Ll(_,p);var T=Ll(_,f);for(p=0;p<w.length;p+=2){var P=w[p],D=w[p+1];P==="style"?md(c,D):P==="dangerouslySetInnerHTML"?hd(c,D):P==="children"?ni(c,D):le(c,P,D,T)}switch(_){case"input":Pl(c,f);break;case"textarea":cd(c,f);break;case"select":var x=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var z=f.value;z!=null?pr(c,!!f.multiple,z,!1):x!==!!f.multiple&&(f.defaultValue!=null?pr(c,!!f.multiple,f.defaultValue,!0):pr(c,!!f.multiple,f.multiple?[]:"",!1))}c[ki]=f}catch(W){Oe(e,e.return,W)}}break;case 6:if(zt(n,e),Kt(e),u&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(W){Oe(e,e.return,W)}}break;case 3:if(zt(n,e),Kt(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{hi(n.containerInfo)}catch(W){Oe(e,e.return,W)}break;case 4:zt(n,e),Kt(e);break;case 13:zt(n,e),Kt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(la=Le())),u&4&&Ah(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(nt=(T=nt)||P,zt(n,e),nt=T):zt(n,e),Kt(e),u&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!P&&e.mode&1)for(j=e,P=e.child;P!==null;){for(D=j=P;j!==null;){switch(x=j,z=x.child,x.tag){case 0:case 11:case 14:case 15:Li(4,x,x.return);break;case 1:Lr(x,x.return);var B=x.stateNode;if(typeof B.componentWillUnmount=="function"){u=x,s=x.return;try{n=u,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Oe(u,s,W)}}break;case 5:Lr(x,x.return);break;case 22:if(x.memoizedState!==null){bh(D);continue}}z!==null?(z.return=x,j=z):bh(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{c=D.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=D.stateNode,w=D.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,_.style.display=pd("display",p))}catch(W){Oe(e,e.return,W)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=T?"":D.memoizedProps}catch(W){Oe(e,e.return,W)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:zt(n,e),Kt(e),u&4&&Ah(e);break;case 21:break;default:zt(n,e),Kt(e)}}function Kt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Ph(s)){var u=s;break e}s=s.return}throw Error(i(160))}switch(u.tag){case 5:var c=u.stateNode;u.flags&32&&(ni(c,""),u.flags&=-33);var f=Dh(e);ia(e,f,c);break;case 3:case 4:var p=u.stateNode.containerInfo,_=Dh(e);ra(e,_,p);break;default:throw Error(i(161))}}catch(w){Oe(e,e.return,w)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jy(e,n,s){j=e,Lh(e)}function Lh(e,n,s){for(var u=(e.mode&1)!==0;j!==null;){var c=j,f=c.child;if(c.tag===22&&u){var p=c.memoizedState!==null||_o;if(!p){var _=c.alternate,w=_!==null&&_.memoizedState!==null||nt;_=_o;var T=nt;if(_o=p,(nt=w)&&!T)for(j=c;j!==null;)p=j,w=p.child,p.tag===22&&p.memoizedState!==null?zh(c):w!==null?(w.return=p,j=w):zh(c);for(;f!==null;)j=f,Lh(f),f=f.sibling;j=c,_o=_,nt=T}Fh(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,j=f):Fh(e)}}function Fh(e){for(;j!==null;){var n=j;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:nt||yo(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!nt)if(s===null)u.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Ft(n.type,s.memoizedProps);u.componentDidUpdate(c,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&bf(n,f,u);break;case 3:var p=n.updateQueue;if(p!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}bf(n,p,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&hi(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}nt||n.flags&512&&na(n)}catch(x){Oe(n,n.return,x)}}if(n===e){j=null;break}if(s=n.sibling,s!==null){s.return=n.return,j=s;break}j=n.return}}function bh(e){for(;j!==null;){var n=j;if(n===e){j=null;break}var s=n.sibling;if(s!==null){s.return=n.return,j=s;break}j=n.return}}function zh(e){for(;j!==null;){var n=j;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{yo(4,n)}catch(w){Oe(n,s,w)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var c=n.return;try{u.componentDidMount()}catch(w){Oe(n,c,w)}}var f=n.return;try{na(n)}catch(w){Oe(n,f,w)}break;case 5:var p=n.return;try{na(n)}catch(w){Oe(n,p,w)}}}catch(w){Oe(n,n.return,w)}if(n===e){j=null;break}var _=n.sibling;if(_!==null){_.return=n.return,j=_;break}j=n.return}}var Uy=Math.ceil,vo=$.ReactCurrentDispatcher,sa=$.ReactCurrentOwner,xt=$.ReactCurrentBatchConfig,ce=0,Ve=null,be=null,qe=0,wt=0,Fr=Cn(0),je=0,Fi=null,Xn=0,wo=0,oa=0,bi=null,dt=null,la=0,br=1/0,on=null,Eo=!1,ua=null,xn=null,Co=!1,Rn=null,So=0,zi=0,aa=null,ko=-1,Io=0;function it(){return ce&6?Le():ko!==-1?ko:ko=Le()}function Pn(e){return e.mode&1?ce&2&&qe!==0?qe&-qe:Sy.transition!==null?(Io===0&&(Io=Pd()),Io):(e=ge,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function jt(e,n,s,u){if(50<zi)throw zi=0,aa=null,Error(i(185));ui(e,s,u),(!(ce&2)||e!==Ve)&&(e===Ve&&(!(ce&2)&&(wo|=s),je===4&&Dn(e,qe)),ft(e,u),s===1&&ce===0&&!(n.mode&1)&&(br=Le()+500,Js&&kn()))}function ft(e,n){var s=e.callbackNode;S_(e,n);var u=As(e,e===Ve?qe:0);if(u===0)s!==null&&Nd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&Nd(s),n===1)e.tag===0?Cy(Uh.bind(null,e)):If(Uh.bind(null,e)),yy(function(){!(ce&6)&&kn()}),s=null;else{switch(Dd(u)){case 1:s=Wl;break;case 4:s=xd;break;case 16:s=Rs;break;case 536870912:s=Rd;break;default:s=Rs}s=Kh(s,jh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function jh(e,n){if(ko=-1,Io=0,ce&6)throw Error(i(327));var s=e.callbackNode;if(zr()&&e.callbackNode!==s)return null;var u=As(e,e===Ve?qe:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=To(e,u);else{n=u;var c=ce;ce|=2;var f=Wh();(Ve!==e||qe!==n)&&(on=null,br=Le()+500,Zn(e,n));do try{Hy();break}catch(_){Bh(e,_)}while(!0);Nu(),vo.current=f,ce=c,be!==null?n=0:(Ve=null,qe=0,n=je)}if(n!==0){if(n===2&&(c=Hl(e),c!==0&&(u=c,n=ca(e,c))),n===1)throw s=Fi,Zn(e,0),Dn(e,u),ft(e,Le()),s;if(n===6)Dn(e,u);else{if(c=e.current.alternate,!(u&30)&&!By(c)&&(n=To(e,u),n===2&&(f=Hl(e),f!==0&&(u=f,n=ca(e,f))),n===1))throw s=Fi,Zn(e,0),Dn(e,u),ft(e,Le()),s;switch(e.finishedWork=c,e.finishedLanes=u,n){case 0:case 1:throw Error(i(345));case 2:er(e,dt,on);break;case 3:if(Dn(e,u),(u&130023424)===u&&(n=la+500-Le(),10<n)){if(As(e,0)!==0)break;if(c=e.suspendedLanes,(c&u)!==u){it(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=gu(er.bind(null,e,dt,on),n);break}er(e,dt,on);break;case 4:if(Dn(e,u),(u&4194240)===u)break;for(n=e.eventTimes,c=-1;0<u;){var p=31-At(u);f=1<<p,p=n[p],p>c&&(c=p),u&=~f}if(u=c,u=Le()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Uy(u/1960))-u,10<u){e.timeoutHandle=gu(er.bind(null,e,dt,on),u);break}er(e,dt,on);break;case 5:er(e,dt,on);break;default:throw Error(i(329))}}}return ft(e,Le()),e.callbackNode===s?jh.bind(null,e):null}function ca(e,n){var s=bi;return e.current.memoizedState.isDehydrated&&(Zn(e,n).flags|=256),e=To(e,n),e!==2&&(n=dt,dt=s,n!==null&&da(n)),e}function da(e){dt===null?dt=e:dt.push.apply(dt,e)}function By(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var c=s[u],f=c.getSnapshot;c=c.value;try{if(!Mt(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dn(e,n){for(n&=~oa,n&=~wo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-At(n),u=1<<s;e[s]=-1,n&=~u}}function Uh(e){if(ce&6)throw Error(i(327));zr();var n=As(e,0);if(!(n&1))return ft(e,Le()),null;var s=To(e,n);if(e.tag!==0&&s===2){var u=Hl(e);u!==0&&(n=u,s=ca(e,u))}if(s===1)throw s=Fi,Zn(e,0),Dn(e,n),ft(e,Le()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,er(e,dt,on),ft(e,Le()),null}function fa(e,n){var s=ce;ce|=1;try{return e(n)}finally{ce=s,ce===0&&(br=Le()+500,Js&&kn())}}function Jn(e){Rn!==null&&Rn.tag===0&&!(ce&6)&&zr();var n=ce;ce|=1;var s=xt.transition,u=ge;try{if(xt.transition=null,ge=1,e)return e()}finally{ge=u,xt.transition=s,ce=n,!(ce&6)&&kn()}}function ha(){wt=Fr.current,Ie(Fr)}function Zn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,_y(s)),be!==null)for(s=be.return;s!==null;){var u=s;switch(Cu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ys();break;case 3:Ar(),Ie(ut),Ie(Ze),Lu();break;case 5:Au(u);break;case 4:Ar();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:xu(u.type._context);break;case 22:case 23:ha()}s=s.return}if(Ve=e,be=e=On(e.current,null),qe=wt=n,je=0,Fi=null,oa=wo=Xn=0,dt=bi=null,Kn!==null){for(n=0;n<Kn.length;n++)if(s=Kn[n],u=s.interleaved,u!==null){s.interleaved=null;var c=u.next,f=s.pending;if(f!==null){var p=f.next;f.next=c,u.next=p}s.pending=u}Kn=null}return e}function Bh(e,n){do{var s=be;try{if(Nu(),uo.current=ho,ao){for(var u=Pe.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}ao=!1}if(Yn=0,He=ze=Pe=null,Pi=!1,Di=0,sa.current=null,s===null||s.return===null){je=1,Fi=n,be=null;break}e:{var f=e,p=s.return,_=s,w=n;if(n=qe,_.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var T=w,P=_,D=P.tag;if(!(P.mode&1)&&(D===0||D===11||D===15)){var x=P.alternate;x?(P.updateQueue=x.updateQueue,P.memoizedState=x.memoizedState,P.lanes=x.lanes):(P.updateQueue=null,P.memoizedState=null)}var z=fh(p);if(z!==null){z.flags&=-257,hh(z,p,_,f,n),z.mode&1&&dh(f,T,n),n=z,w=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(w),n.updateQueue=W}else B.add(w);break e}else{if(!(n&1)){dh(f,T,n),pa();break e}w=Error(i(426))}}else if(xe&&_.mode&1){var Fe=fh(p);if(Fe!==null){!(Fe.flags&65536)&&(Fe.flags|=256),hh(Fe,p,_,f,n),Iu(Mr(w,_));break e}}f=w=Mr(w,_),je!==4&&(je=2),bi===null?bi=[f]:bi.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var k=ah(f,w,n);Ff(f,k);break e;case 1:_=w;var E=f.type,I=f.stateNode;if(!(f.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(xn===null||!xn.has(I)))){f.flags|=65536,n&=-n,f.lanes|=n;var A=ch(f,_,n);Ff(f,A);break e}}f=f.return}while(f!==null)}Vh(s)}catch(H){n=H,be===s&&s!==null&&(be=s=s.return);continue}break}while(!0)}function Wh(){var e=vo.current;return vo.current=ho,e===null?ho:e}function pa(){(je===0||je===3||je===2)&&(je=4),Ve===null||!(Xn&268435455)&&!(wo&268435455)||Dn(Ve,qe)}function To(e,n){var s=ce;ce|=2;var u=Wh();(Ve!==e||qe!==n)&&(on=null,Zn(e,n));do try{Wy();break}catch(c){Bh(e,c)}while(!0);if(Nu(),ce=s,vo.current=u,be!==null)throw Error(i(261));return Ve=null,qe=0,je}function Wy(){for(;be!==null;)Hh(be)}function Hy(){for(;be!==null&&!p_();)Hh(be)}function Hh(e){var n=Gh(e.alternate,e,wt);e.memoizedProps=e.pendingProps,n===null?Vh(e):be=n,sa.current=null}function Vh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Fy(s,n),s!==null){s.flags&=32767,be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,be=null;return}}else if(s=Ly(s,n,wt),s!==null){be=s;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);je===0&&(je=5)}function er(e,n,s){var u=ge,c=xt.transition;try{xt.transition=null,ge=1,Vy(e,n,s,u)}finally{xt.transition=c,ge=u}return null}function Vy(e,n,s,u){do zr();while(Rn!==null);if(ce&6)throw Error(i(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(k_(e,f),e===Ve&&(be=Ve=null,qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Co||(Co=!0,Kh(Rs,function(){return zr(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=xt.transition,xt.transition=null;var p=ge;ge=1;var _=ce;ce|=4,sa.current=null,zy(e,s),Mh(s,e),cy(pu),Fs=!!hu,pu=hu=null,e.current=s,jy(s),m_(),ce=_,ge=p,xt.transition=f}else e.current=s;if(Co&&(Co=!1,Rn=e,So=c),f=e.pendingLanes,f===0&&(xn=null),y_(s.stateNode),ft(e,Le()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],u(c.value,{componentStack:c.stack,digest:c.digest});if(Eo)throw Eo=!1,e=ua,ua=null,e;return So&1&&e.tag!==0&&zr(),f=e.pendingLanes,f&1?e===aa?zi++:(zi=0,aa=e):zi=0,kn(),null}function zr(){if(Rn!==null){var e=Dd(So),n=xt.transition,s=ge;try{if(xt.transition=null,ge=16>e?16:e,Rn===null)var u=!1;else{if(e=Rn,Rn=null,So=0,ce&6)throw Error(i(331));var c=ce;for(ce|=4,j=e.current;j!==null;){var f=j,p=f.child;if(j.flags&16){var _=f.deletions;if(_!==null){for(var w=0;w<_.length;w++){var T=_[w];for(j=T;j!==null;){var P=j;switch(P.tag){case 0:case 11:case 15:Li(8,P,f)}var D=P.child;if(D!==null)D.return=P,j=D;else for(;j!==null;){P=j;var x=P.sibling,z=P.return;if(Rh(P),P===T){j=null;break}if(x!==null){x.return=z,j=x;break}j=z}}}var B=f.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Fe=W.sibling;W.sibling=null,W=Fe}while(W!==null)}}j=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,j=p;else e:for(;j!==null;){if(f=j,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Li(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,j=k;break e}j=f.return}}var E=e.current;for(j=E;j!==null;){p=j;var I=p.child;if(p.subtreeFlags&2064&&I!==null)I.return=p,j=I;else e:for(p=E;j!==null;){if(_=j,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:yo(9,_)}}catch(H){Oe(_,_.return,H)}if(_===p){j=null;break e}var A=_.sibling;if(A!==null){A.return=_.return,j=A;break e}j=_.return}}if(ce=c,kn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ps,e)}catch{}u=!0}return u}finally{ge=s,xt.transition=n}}return!1}function $h(e,n,s){n=Mr(s,n),n=ah(e,n,1),e=Tn(e,n,1),n=it(),e!==null&&(ui(e,1,n),ft(e,n))}function Oe(e,n,s){if(e.tag===3)$h(e,e,s);else for(;n!==null;){if(n.tag===3){$h(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xn===null||!xn.has(u))){e=Mr(s,e),e=ch(n,e,1),n=Tn(n,e,1),e=it(),n!==null&&(ui(n,1,e),ft(n,e));break}}n=n.return}}function $y(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=it(),e.pingedLanes|=e.suspendedLanes&s,Ve===e&&(qe&s)===s&&(je===4||je===3&&(qe&130023424)===qe&&500>Le()-la?Zn(e,0):oa|=s),ft(e,n)}function Qh(e,n){n===0&&(e.mode&1?(n=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):n=1);var s=it();e=nn(e,n),e!==null&&(ui(e,n,s),ft(e,s))}function Qy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qh(e,s)}function Gy(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(i(314))}u!==null&&u.delete(n),Qh(e,s)}var Gh;Gh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ct=!1,My(e,n,s);ct=!!(e.flags&131072)}else ct=!1,xe&&n.flags&1048576&&Tf(n,eo,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;go(e,n),e=n.pendingProps;var c=Tr(n,Ze.current);Or(n,s),c=zu(null,n,u,e,c,s);var f=ju();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,at(u)?(f=!0,Xs(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Du(n),c.updater=po,n.stateNode=c,c._reactInternals=n,$u(n,u,e,s),n=qu(null,n,u,!0,f,s)):(n.tag=0,xe&&f&&Eu(n),rt(null,n,c,s),n=n.child),n;case 16:u=n.elementType;e:{switch(go(e,n),e=n.pendingProps,c=u._init,u=c(u._payload),n.type=u,c=n.tag=qy(u),e=Ft(u,e),c){case 0:n=Ku(null,n,u,e,s);break e;case 1:n=vh(null,n,u,e,s);break e;case 11:n=ph(null,n,u,e,s);break e;case 14:n=mh(null,n,u,Ft(u.type,e),s);break e}throw Error(i(306,u,""))}return n;case 0:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Ft(u,c),Ku(e,n,u,c,s);case 1:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Ft(u,c),vh(e,n,u,c,s);case 3:e:{if(wh(n),e===null)throw Error(i(387));u=n.pendingProps,f=n.memoizedState,c=f.element,Lf(e,n),oo(n,u,null,s);var p=n.memoizedState;if(u=p.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Mr(Error(i(423)),n),n=Eh(e,n,u,s,c);break e}else if(u!==c){c=Mr(Error(i(424)),n),n=Eh(e,n,u,s,c);break e}else for(vt=En(n.stateNode.containerInfo.firstChild),yt=n,xe=!0,Lt=null,s=Af(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),u===c){n=sn(e,n,s);break e}rt(e,n,u,s)}n=n.child}return n;case 5:return zf(n),e===null&&ku(n),u=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,p=c.children,mu(u,c)?p=null:f!==null&&mu(u,f)&&(n.flags|=32),yh(e,n),rt(e,n,p,s),n.child;case 6:return e===null&&ku(n),null;case 13:return Ch(e,n,s);case 4:return Ou(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Pr(n,null,u,s):rt(e,n,u,s),n.child;case 11:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Ft(u,c),ph(e,n,u,c,s);case 7:return rt(e,n,n.pendingProps,s),n.child;case 8:return rt(e,n,n.pendingProps.children,s),n.child;case 12:return rt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,c=n.pendingProps,f=n.memoizedProps,p=c.value,ve(ro,u._currentValue),u._currentValue=p,f!==null)if(Mt(f.value,p)){if(f.children===c.children&&!ut.current){n=sn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){p=f.child;for(var w=_.firstContext;w!==null;){if(w.context===u){if(f.tag===1){w=rn(-1,s&-s),w.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?w.next=w:(w.next=P.next,P.next=w),T.pending=w}}f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),Ru(f.return,s,n),_.lanes|=s;break}w=w.next}}else if(f.tag===10)p=f.type===n.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(i(341));p.lanes|=s,_=p.alternate,_!==null&&(_.lanes|=s),Ru(p,s,n),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===n){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}rt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,u=n.pendingProps.children,Or(n,s),c=Tt(c),u=u(c),n.flags|=1,rt(e,n,u,s),n.child;case 14:return u=n.type,c=Ft(u,n.pendingProps),c=Ft(u.type,c),mh(e,n,u,c,s);case 15:return gh(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Ft(u,c),go(e,n),n.tag=1,at(u)?(e=!0,Xs(n)):e=!1,Or(n,s),lh(n,u,c),$u(n,u,c,s),qu(null,n,u,!0,e,s);case 19:return kh(e,n,s);case 22:return _h(e,n,s)}throw Error(i(156,n.tag))};function Kh(e,n){return Td(e,n)}function Ky(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,s,u){return new Ky(e,n,s,u)}function ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qy(e){if(typeof e=="function")return ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===St)return 11;if(e===Ht)return 14}return 2}function On(e,n){var s=e.alternate;return s===null?(s=Rt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function No(e,n,s,u,c,f){var p=2;if(u=e,typeof e=="function")ma(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ue:return tr(s.children,c,f,n);case Se:p=8,c|=8;break;case ae:return e=Rt(12,s,n,c|2),e.elementType=ae,e.lanes=f,e;case mt:return e=Rt(13,s,n,c),e.elementType=mt,e.lanes=f,e;case Ot:return e=Rt(19,s,n,c),e.elementType=Ot,e.lanes=f,e;case De:return xo(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:p=10;break e;case Xt:p=9;break e;case St:p=11;break e;case Ht:p=14;break e;case lt:p=16,u=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=Rt(p,s,n,c),n.elementType=e,n.type=u,n.lanes=f,n}function tr(e,n,s,u){return e=Rt(7,e,u,n),e.lanes=s,e}function xo(e,n,s,u){return e=Rt(22,e,u,n),e.elementType=De,e.lanes=s,e.stateNode={isHidden:!1},e}function ga(e,n,s){return e=Rt(6,e,null,n),e.lanes=s,e}function _a(e,n,s){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Yy(e,n,s,u,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=u,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function ya(e,n,s,u,c,f,p,_,w){return e=new Yy(e,n,s,_,w),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Rt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(f),e}function Xy(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function qh(e){if(!e)return Sn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(at(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(at(s))return Sf(e,s,n)}return n}function Yh(e,n,s,u,c,f,p,_,w){return e=ya(s,u,!0,e,c,f,p,_,w),e.context=qh(null),s=e.current,u=it(),c=Pn(s),f=rn(u,c),f.callback=n??null,Tn(s,f,c),e.current.lanes=c,ui(e,c,u),ft(e,u),e}function Ro(e,n,s,u){var c=n.current,f=it(),p=Pn(c);return s=qh(s),n.context===null?n.context=s:n.pendingContext=s,n=rn(f,p),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Tn(c,n,p),e!==null&&(jt(e,c,p,f),so(e,c,p)),p}function Po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function va(e,n){Xh(e,n),(e=e.alternate)&&Xh(e,n)}var Jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function wa(e){this._internalRoot=e}Do.prototype.render=wa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Ro(e,n,null,null)},Do.prototype.unmount=wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jn(function(){Ro(null,e,null,null)}),n[Jt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var n=Md();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yn.length&&n!==0&&n<yn[s].priority;s++);yn.splice(s,0,e),s===0&&bd(e)}};function Ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function Jy(e,n,s,u,c){if(c){if(typeof u=="function"){var f=u;u=function(){var T=Po(p);f.call(T)}}var p=Yh(n,u,e,0,null,!1,!1,"",Zh);return e._reactRootContainer=p,e[Jt]=p.current,Ci(e.nodeType===8?e.parentNode:e),Jn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof u=="function"){var _=u;u=function(){var T=Po(w);_.call(T)}}var w=ya(e,0,!1,null,null,!1,!1,"",Zh);return e._reactRootContainer=w,e[Jt]=w.current,Ci(e.nodeType===8?e.parentNode:e),Jn(function(){Ro(n,w,s,u)}),w}function Ao(e,n,s,u,c){var f=s._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var _=c;c=function(){var w=Po(p);_.call(w)}}Ro(n,p,e,c)}else p=Jy(s,n,e,c,u);return Po(p)}Od=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=li(n.pendingLanes);s!==0&&($l(n,s|1),ft(n,Le()),!(ce&6)&&(br=Le()+500,kn()))}break;case 13:Jn(function(){var u=nn(e,1);if(u!==null){var c=it();jt(u,e,1,c)}}),va(e,1)}},Ql=function(e){if(e.tag===13){var n=nn(e,134217728);if(n!==null){var s=it();jt(n,e,134217728,s)}va(e,134217728)}},Ad=function(e){if(e.tag===13){var n=Pn(e),s=nn(e,n);if(s!==null){var u=it();jt(s,e,n,u)}va(e,n)}},Md=function(){return ge},Ld=function(e,n){var s=ge;try{return ge=e,n()}finally{ge=s}},zl=function(e,n,s){switch(n){case"input":if(Pl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var c=qs(u);if(!c)throw Error(i(90));sd(u),Pl(u,c)}}}break;case"textarea":cd(e,s);break;case"select":n=s.value,n!=null&&pr(e,!!s.multiple,n,!1)}},vd=fa,wd=Jn;var Zy={usingClientEntryPoint:!1,Events:[Ii,kr,qs,_d,yd,fa]},ji={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Ps=Mo.inject(ev),Vt=Mo}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy,ht.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ea(n))throw Error(i(200));return Xy(e,n,null,s)},ht.createRoot=function(e,n){if(!Ea(e))throw Error(i(299));var s=!1,u="",c=Jh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=ya(e,1,!1,null,null,s,!1,u,c),e[Jt]=n.current,Ci(e.nodeType===8?e.parentNode:e),new wa(n)},ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=kd(n),e=e===null?null:e.stateNode,e},ht.flushSync=function(e){return Jn(e)},ht.hydrate=function(e,n,s){if(!Oo(n))throw Error(i(200));return Ao(null,e,n,!0,s)},ht.hydrateRoot=function(e,n,s){if(!Ea(e))throw Error(i(405));var u=s!=null&&s.hydratedSources||null,c=!1,f="",p=Jh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),n=Yh(n,null,e,1,s??null,c,!1,f,p),e[Jt]=n.current,Ci(e),u)for(e=0;e<u.length;e++)s=u[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Do(n)},ht.render=function(e,n,s){if(!Oo(n))throw Error(i(200));return Ao(null,e,n,!1,s)},ht.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(i(40));return e._reactRootContainer?(Jn(function(){Ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1},ht.unstable_batchedUpdates=fa,ht.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!Oo(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ao(e,n,s,!1,u)},ht.version="18.3.1-next-f1338f8080-20240426",ht}var lp;function cv(){if(lp)return ka.exports;lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ka.exports=av(),ka.exports}var up;function dv(){if(up)return Lo;up=1;var r=cv();return Lo.createRoot=r.createRoot,Lo.hydrateRoot=r.hydrateRoot,Lo}var fv=dv();const hv=hm(fv);var ap={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(r,t){if(!r)throw Xr(t)},Xr=function(r){return new Error("Firebase Database ("+pm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let l=r.charCodeAt(o);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},pv=function(r){const t=[];let i=0,o=0;for(;i<r.length;){const l=r[i++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const a=r[i++];t[o++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=r[i++],d=r[i++],h=r[i++],m=((l&7)<<18|(a&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const a=r[i++],d=r[i++];t[o++]=String.fromCharCode((l&15)<<12|(a&63)<<6|d&63)}}return t.join("")},wc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<r.length;l+=3){const a=r[l],d=l+1<r.length,h=d?r[l+1]:0,m=l+2<r.length,g=m?r[l+2]:0,v=a>>2,y=(a&3)<<4|h>>4;let C=(h&15)<<2|g>>6,N=g&63;m||(N=64,d||(C=64)),o.push(i[v],i[y],i[C],i[N])}return o.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mm(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):pv(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<r.length;){const a=i[r.charAt(l++)],h=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const y=l<r.length?i[r.charAt(l)]:64;if(++l,a==null||h==null||g==null||y==null)throw new mv;const C=a<<2|h>>4;if(o.push(C),g!==64){const N=h<<4&240|g>>2;if(o.push(N),y!==64){const O=g<<6&192|y;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gm=function(r){const t=mm(r);return wc.encodeByteArray(t,!0)},Ho=function(r){return gm(r).replace(/\./g,"")},Qa=function(r){try{return wc.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){return _m(void 0,r)}function _m(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!_v(i)||(r[i]=_m(r[i],t[i]));return r}function _v(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=()=>yv().__FIREBASE_DEFAULTS__,wv=()=>{if(typeof process>"u"||typeof ap>"u")return;const r=ap.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ev=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Qa(r[1]);return t&&JSON.parse(t)},ym=()=>{try{return vv()||wv()||Ev()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>{var t,i;return(i=(t=ym())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},Sv=r=>{const t=Cv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},vm=()=>{var r;return(r=ym())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",l=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ho(JSON.stringify(i)),Ho(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Iv())}function Tv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nv(){return pm.NODE_ADMIN===!0}function xv(){try{return typeof indexedDB=="object"}catch{return!1}}function Rv(){return new Promise((r,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var a;t(((a=l.error)===null||a===void 0?void 0:a.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="FirebaseError";class _s extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=Pv,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Em.prototype.create)}}class Em{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},l=`${this.service}/${t}`,a=this.errors[t],d=a?Dv(a,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new _s(l,h,o)}}function Dv(r,t){return r.replace(Ov,(i,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Ov=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r){return JSON.parse(r)}function Be(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=function(r){let t={},i={},o={},l="";try{const a=r.split(".");t=ts(Qa(a[0])||""),i=ts(Qa(a[1])||""),l=a[2],o=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:o,signature:l}},Av=function(r){const t=Cm(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Mv=function(r){const t=Cm(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Hr(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function cp(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vo(r,t,i){const o={};for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=t.call(i,r[l],l,r));return o}function Ga(r,t){if(r===t)return!0;const i=Object.keys(r),o=Object.keys(t);for(const l of i){if(!o.includes(l))return!1;const a=r[l],d=t[l];if(dp(a)&&dp(d)){if(!Ga(a,d))return!1}else if(a!==d)return!1}for(const l of o)if(!i.includes(l))return!1;return!0}function dp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){const t=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)o[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const C=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(C<<1|C>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,v;for(let y=0;y<80;y++){y<40?y<20?(g=h^a&(d^h),v=1518500249):(g=a^d^h,v=1859775393):y<60?(g=a&d|h&(a|d),v=2400959708):(g=a^d^h,v=3395469782);const C=(l<<5|l>>>27)+g+m+v+o[y]&4294967295;m=h,h=d,d=(a<<30|a>>>2)&4294967295,a=l,l=C}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const o=i-this.blockSize;let l=0;const a=this.buf_;let d=this.inbuf_;for(;l<i;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<i;)if(a[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(a),d=0;break}}else for(;l<i;)if(a[d]=t[l],++d,++l,d===this.blockSize){this.compress_(a),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)t[o]=this.chain_[l]>>a&255,++o;return t}}function fl(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let l=r.charCodeAt(o);if(l>=55296&&l<=56319){const a=l-55296;o++,M(o<r.length,"Surrogate pair missing trail surrogate.");const d=r.charCodeAt(o)-56320;l=65536+(a<<10)+d}l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):l<65536?(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},hl=function(r){let t=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(r){return r&&r._delegate?r._delegate:r}class ns{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zv=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new gs;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Uv(t))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const a=this.getOrInitializeService({instanceIdentifier:l});o.resolve(a)}catch{}}}}clearInstance(t=nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=nr){return this.instances.has(t)}getOptions(t=nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[a,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);o===h&&d.resolve(l)}return l}onInit(t,i){var o;const l=this.normalizeInstanceIdentifier(i),a=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;a.add(t),this.onInitCallbacks.set(l,a);const d=this.instances.get(l);return d&&t(d,l),()=>{a.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const l of o)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:jv(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=nr){return this.component?this.component.multipleInstances?t:nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jv(r){return r===nr?void 0:r}function Uv(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new zv(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ee||(Ee={}));const Wv={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Hv=Ee.INFO,Vv={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},$v=(r,t,...i)=>{if(t<r.logLevel)return;const o=new Date().toISOString(),l=Vv[t];if(l)console[l](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Sm=class{constructor(t){this.name=t,this._logLevel=Hv,this._logHandler=$v,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Wv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}};const Qv=(r,t)=>t.some(i=>r instanceof i);let fp,hp;function Gv(){return fp||(fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kv(){return hp||(hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const km=new WeakMap,Ka=new WeakMap,Im=new WeakMap,Na=new WeakMap,Ec=new WeakMap;function qv(r){const t=new Promise((i,o)=>{const l=()=>{r.removeEventListener("success",a),r.removeEventListener("error",d)},a=()=>{i(Ln(r.result)),l()},d=()=>{o(r.error),l()};r.addEventListener("success",a),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&km.set(i,r)}).catch(()=>{}),Ec.set(t,r),t}function Yv(r){if(Ka.has(r))return;const t=new Promise((i,o)=>{const l=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",d),r.removeEventListener("abort",d)},a=()=>{i(),l()},d=()=>{o(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",a),r.addEventListener("error",d),r.addEventListener("abort",d)});Ka.set(r,t)}let qa={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ka.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Im.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ln(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Xv(r){qa=r(qa)}function Jv(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=r.call(xa(this),t,...i);return Im.set(o,t.sort?t.sort():[t]),Ln(o)}:Kv().includes(r)?function(...t){return r.apply(xa(this),t),Ln(km.get(this))}:function(...t){return Ln(r.apply(xa(this),t))}}function Zv(r){return typeof r=="function"?Jv(r):(r instanceof IDBTransaction&&Yv(r),Qv(r,Gv())?new Proxy(r,qa):r)}function Ln(r){if(r instanceof IDBRequest)return qv(r);if(Na.has(r))return Na.get(r);const t=Zv(r);return t!==r&&(Na.set(r,t),Ec.set(t,r)),t}const xa=r=>Ec.get(r);function ew(r,t,{blocked:i,upgrade:o,blocking:l,terminated:a}={}){const d=indexedDB.open(r,t),h=Ln(d);return o&&d.addEventListener("upgradeneeded",m=>{o(Ln(d.result),m.oldVersion,m.newVersion,Ln(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],Ra=new Map;function pp(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ra.get(t))return Ra.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,l=nw.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(l||tw.includes(i)))return;const a=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),l&&m.done]))[0]};return Ra.set(t,a),a}Xv(r=>({...r,get:(t,i,o)=>pp(t,i)||r.get(t,i,o),has:(t,i)=>!!pp(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iw(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function iw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ya="@firebase/app",mp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Sm("@firebase/app"),sw="@firebase/app-compat",ow="@firebase/analytics-compat",lw="@firebase/analytics",uw="@firebase/app-check-compat",aw="@firebase/app-check",cw="@firebase/auth",dw="@firebase/auth-compat",fw="@firebase/database",hw="@firebase/data-connect",pw="@firebase/database-compat",mw="@firebase/functions",gw="@firebase/functions-compat",_w="@firebase/installations",yw="@firebase/installations-compat",vw="@firebase/messaging",ww="@firebase/messaging-compat",Ew="@firebase/performance",Cw="@firebase/performance-compat",Sw="@firebase/remote-config",kw="@firebase/remote-config-compat",Iw="@firebase/storage",Tw="@firebase/storage-compat",Nw="@firebase/firestore",xw="@firebase/vertexai",Rw="@firebase/firestore-compat",Pw="firebase",Dw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]",Ow={[Ya]:"fire-core",[sw]:"fire-core-compat",[lw]:"fire-analytics",[ow]:"fire-analytics-compat",[aw]:"fire-app-check",[uw]:"fire-app-check-compat",[cw]:"fire-auth",[dw]:"fire-auth-compat",[fw]:"fire-rtdb",[hw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[mw]:"fire-fn",[gw]:"fire-fn-compat",[_w]:"fire-iid",[yw]:"fire-iid-compat",[vw]:"fire-fcm",[ww]:"fire-fcm-compat",[Ew]:"fire-perf",[Cw]:"fire-perf-compat",[Sw]:"fire-rc",[kw]:"fire-rc-compat",[Iw]:"fire-gcs",[Tw]:"fire-gcs-compat",[Nw]:"fire-fst",[Rw]:"fire-fst-compat",[xw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Map,Aw=new Map,Ja=new Map;function gp(r,t){try{r.container.addComponent(t)}catch(i){dn.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qo(r){const t=r.name;if(Ja.has(t))return dn.debug(`There were multiple attempts to register component ${t}.`),!1;Ja.set(t,r);for(const i of $o.values())gp(i,r);for(const i of Aw.values())gp(i,r);return!0}function Mw(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new Em("app","Firebase",Lw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=Dw;function Tm(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Fn.create("bad-app-name",{appName:String(l)});if(i||(i=vm()),!i)throw Fn.create("no-options");const a=$o.get(l);if(a){if(Ga(i,a.options)&&Ga(o,a.config))return a;throw Fn.create("duplicate-app",{appName:l})}const d=new Bv(l);for(const m of Ja.values())d.addComponent(m);const h=new Fw(i,o,d);return $o.set(l,h),h}function zw(r=Xa){const t=$o.get(r);if(!t&&r===Xa&&vm())return Tm();if(!t)throw Fn.create("no-app",{appName:r});return t}function Ur(r,t,i){var o;let l=(o=Ow[r])!==null&&o!==void 0?o:r;i&&(l+=`-${i}`);const a=l.match(/\s|\//),d=t.match(/\s|\//);if(a||d){const h=[`Unable to register library "${l}" with version "${t}":`];a&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dn.warn(h.join(" "));return}Qo(new ns(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Uw=1,rs="firebase-heartbeat-store";let Pa=null;function Nm(){return Pa||(Pa=ew(jw,Uw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(rs)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fn.create("idb-open",{originalErrorMessage:r.message})})),Pa}async function Bw(r){try{const i=(await Nm()).transaction(rs),o=await i.objectStore(rs).get(xm(r));return await i.done,o}catch(t){if(t instanceof _s)dn.warn(t.message);else{const i=Fn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dn.warn(i.message)}}}async function _p(r,t){try{const o=(await Nm()).transaction(rs,"readwrite");await o.objectStore(rs).put(t,xm(r)),await o.done}catch(i){if(i instanceof _s)dn.warn(i.message);else{const o=Fn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});dn.warn(o.message)}}}function xm(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=1024,Hw=30*24*60*60*1e3;class Vw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Qw(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yp();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(d=>d.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=Hw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){dn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=yp(),{heartbeatsToSend:o,unsentEntries:l}=$w(this._heartbeatsCache.heartbeats),a=Ho(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(i){return dn.warn(i),""}}}function yp(){return new Date().toISOString().substring(0,10)}function $w(r,t=Ww){const i=[];let o=r.slice();for(const l of r){const a=i.find(d=>d.agent===l.agent);if(a){if(a.dates.push(l.date),vp(i)>t){a.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),vp(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class Qw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xv()?Rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Bw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return _p(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return _p(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function vp(r){return Ho(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){Qo(new ns("platform-logger",t=>new rw(t),"PRIVATE")),Qo(new ns("heartbeat",t=>new Vw(t),"PRIVATE")),Ur(Ya,mp,r),Ur(Ya,mp,"esm2017"),Ur("fire-js","")}Gw("");var wp={};const Ep="@firebase/database",Cp="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm="";function Kw(r){Rm=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:ts(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Yt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qw(t)}}catch{}return new Yw},sr=Pm("localStorage"),Xw=Pm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Sm("@firebase/database"),Jw=function(){let r=1;return function(){return r++}}(),Dm=function(r){const t=bv(r),i=new Fv;i.update(t);const o=i.digest();return wc.encodeByteArray(o)},ys=function(...r){let t="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=ys.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Ki=null,Sp=!0;const Zw=function(r,t){M(!0,"Can't turn on custom loggers persistently."),Br.logLevel=Ee.VERBOSE,Ki=Br.log.bind(Br)},Xe=function(...r){if(Sp===!0&&(Sp=!1,Ki===null&&Xw.get("logging_enabled")===!0&&Zw()),Ki){const t=ys.apply(null,r);Ki(t)}},vs=function(r){return function(...t){Xe(r,...t)}},Za=function(...r){const t="FIREBASE INTERNAL ERROR: "+ys(...r);Br.error(t)},fn=function(...r){const t=`FIREBASE FATAL ERROR: ${ys(...r)}`;throw Br.error(t),new Error(t)},ot=function(...r){const t="FIREBASE WARNING: "+ys(...r);Br.warn(t)},eE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cc=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},tE=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Vr="[MIN_NAME]",or="[MAX_NAME]",fr=function(r,t){if(r===t)return 0;if(r===Vr||t===or)return-1;if(t===Vr||r===or)return 1;{const i=kp(r),o=kp(t);return i!==null?o!==null?i-o===0?r.length-t.length:i-o:-1:o!==null?1:r<t?-1:1}},nE=function(r,t){return r===t?0:r<t?-1:1},Wi=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+Be(t))},Sc=function(r){if(typeof r!="object"||r===null)return Be(r);const t=[];for(const o in r)t.push(o);t.sort();let i="{";for(let o=0;o<t.length;o++)o!==0&&(i+=","),i+=Be(t[o]),i+=":",i+=Sc(r[t[o]]);return i+="}",i},Om=function(r,t){const i=r.length;if(i<=t)return[r];const o=[];for(let l=0;l<i;l+=t)l+t>i?o.push(r.substring(l,i)):o.push(r.substring(l,l+t));return o};function Je(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const Am=function(r){M(!Cc(r),"Invalid JSON number");const t=11,i=52,o=(1<<t-1)-1;let l,a,d,h,m;r===0?(a=0,d=0,l=1/r===-1/0?1:0):(l=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(r)/Math.LN2),o),a=h+o,d=Math.round(r*Math.pow(2,i-h)-Math.pow(2,i))):(a=0,d=Math.round(r/Math.pow(2,1-o-i))));const g=[];for(m=i;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(l?1:0),g.reverse();const v=g.join("");let y="";for(m=0;m<64;m+=8){let C=parseInt(v.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),y=y+C}return y.toLowerCase()},rE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sE(r,t){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+i);return o.code=r.toUpperCase(),o}const oE=new RegExp("^-?(0*)\\d{1,10}$"),lE=-2147483648,uE=2147483647,kp=function(r){if(oE.test(r)){const t=Number(r);if(t>=lE&&t<=uE)return t}return null},Jr=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw ot("Exception was thrown by user callback.",i),t},Math.floor(0))}},aE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qi=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,i){this.appName_=t,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i,o){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(t)}}class Uo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Uo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="5",Mm="v",Lm="s",Fm="r",bm="f",zm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jm="ls",Um="p",ec="ac",Bm="websocket",Wm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,o,l,a=!1,d="",h=!1,m=!1){this.secure=i,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&sr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function fE(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function Vm(r,t,i){M(typeof t=="string","typeof type must == string"),M(typeof i=="object","typeof params must == object");let o;if(t===Bm)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===Wm)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);fE(r)&&(i.ns=r.namespace);const l=[];return Je(i,(a,d)=>{l.push(a+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.counters_={}}incrementCounter(t,i=1){Yt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return gv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da={},Oa={};function Ic(r){const t=r.toString();return Da[t]||(Da[t]=new hE),Da[t]}function pE(r,t){const i=r.toString();return Oa[i]||(Oa[i]=t()),Oa[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Jr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="start",gE="close",_E="pLPCommand",yE="pRTLPCB",$m="id",Qm="pw",Gm="ser",vE="cb",wE="seg",EE="ts",CE="d",SE="dframe",Km=1870,qm=30,kE=Km-qm,IE=25e3,TE=3e4;class jr{constructor(t,i,o,l,a,d,h){this.connId=t,this.repoInfo=i,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vs(t),this.stats_=Ic(i),this.urlFn=m=>(this.appCheckToken&&(m[ec]=this.appCheckToken),Vm(i,Wm,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new mE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TE)),tE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tc((...a)=>{const[d,h,m,g,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Ip)this.id=h,this.password=m;else if(d===gE)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...a)=>{const[d,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[Ip]="t",o[Gm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[vE]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Mm]=kc,this.transportSessionId&&(o[Lm]=this.transportSessionId),this.lastSessionId&&(o[jm]=this.lastSessionId),this.applicationId&&(o[Um]=this.applicationId),this.appCheckToken&&(o[ec]=this.appCheckToken),typeof location<"u"&&location.hostname&&zm.test(location.hostname)&&(o[Fm]=bm);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jr.forceAllow_=!0}static forceDisallow(){jr.forceDisallow_=!0}static isAvailable(){return jr.forceAllow_?!0:!jr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rE()&&!iE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Be(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=gm(i),l=Om(o,kE);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[SE]="t",o[$m]=t,o[Qm]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Be(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Tc{constructor(t,i,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jw(),window[_E+this.uniqueCallbackIdentifier]=t,window[yE+this.uniqueCallbackIdentifier]=i,this.myIFrame=Tc.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Xe("frame writing exception"),h.stack&&Xe(h.stack),Xe(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Xe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$m]=this.myID,t[Qm]=this.myPW,t[Gm]=this.currentSerial;let i=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qm+o.length<=Km;){const d=this.pendingSegs.shift();o=o+"&"+wE+l+"="+d.seg+"&"+EE+l+"="+d.ts+"&"+CE+l+"="+d.d,l++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,o){this.pendingSegs.push({seg:t,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(o,Math.floor(IE)),a=()=>{clearTimeout(l),o()};this.addTag(t,a)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Xe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=16384,xE=45e3;let Go=null;typeof MozWebSocket<"u"?Go=MozWebSocket:typeof WebSocket<"u"&&(Go=WebSocket);class qt{constructor(t,i,o,l,a,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vs(this.connId),this.stats_=Ic(i),this.connURL=qt.connectionURL_(i,d,h,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,l,a){const d={};return d[Mm]=kc,typeof location<"u"&&location.hostname&&zm.test(location.hostname)&&(d[Fm]=bm),i&&(d[Lm]=i),o&&(d[jm]=o),l&&(d[ec]=l),a&&(d[Um]=a),Vm(t,Bm,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sr.set("previous_websocket_failure",!0);try{let o;Nv(),this.mySock=new Go(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){qt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Go!==null&&!qt.forceDisallow_}static previouslyFailed(){return sr.isInMemoryStorage||sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){sr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=ts(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=Be(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Om(i,NE);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xE))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qt.responsesRequiredToBeHealthy=2;qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{static get ALL_TRANSPORTS(){return[jr,qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=qt.isAvailable();let o=i&&!qt.previouslyFailed();if(t.webSocketOnly&&(i||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qt];else{const l=this.transports_=[];for(const a of is.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);is.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}is.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=6e4,PE=5e3,DE=10*1024,OE=100*1024,Aa="t",Tp="d",AE="s",Np="r",ME="e",xp="o",Rp="a",Pp="n",Dp="p",LE="h";class FE{constructor(t,i,o,l,a,d,h,m,g,v){this.id=t,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vs("c:"+this.id+":"),this.transportManager_=new is(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>DE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Aa in t){const i=t[Aa];i===Rp?this.upgradeIfSecondaryHealthy_():i===Np?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Wi("t",t),o=Wi("d",t);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Wi("t",t),o=Wi("d",t);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Wi(Aa,t);if(Tp in t){const o=t[Tp];if(i===LE){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===AE?this.onConnectionShutdown_(o):i===Np?this.onReset_(o):i===ME?Za("Server Error: "+o):i===xp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Za("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),kc!==o&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{put(t,i,o,l){}merge(t,i,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,o){}onDisconnectMerge(t,i,o){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,i)}}on(t,i,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:o});const l=this.getInitialEvent(t);l&&i.apply(o,l)}off(t,i,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let a=0;a<l.length;a++)if(l[a].callback===i&&(!o||o===l[a].context)){l.splice(a,1);return}}validateEventType_(t){M(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Xm{static getInstance(){return new Ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=32,Ap=768;class _e{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function pe(){return new _e("")}function re(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function jn(r){return r.pieces_.length-r.pieceNum_}function Ce(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new _e(r.pieces_,t)}function Nc(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function bE(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function ss(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Jm(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new _e(t,0)}function Ae(r,t){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(t instanceof _e)for(let o=t.pieceNum_;o<t.pieces_.length;o++)i.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&i.push(o[l])}return new _e(i,0)}function oe(r){return r.pieceNum_>=r.pieces_.length}function st(r,t){const i=re(r),o=re(t);if(i===null)return t;if(i===o)return st(Ce(r),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function zE(r,t){const i=ss(r,0),o=ss(t,0);for(let l=0;l<i.length&&l<o.length;l++){const a=fr(i[l],o[l]);if(a!==0)return a}return i.length===o.length?0:i.length<o.length?-1:1}function xc(r,t){if(jn(r)!==jn(t))return!1;for(let i=r.pieceNum_,o=t.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==t.pieces_[o])return!1;return!0}function Pt(r,t){let i=r.pieceNum_,o=t.pieceNum_;if(jn(r)>jn(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[o])return!1;++i,++o}return!0}class jE{constructor(t,i){this.errorPrefix_=i,this.parts_=ss(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=hl(this.parts_[o]);Zm(this)}}function UE(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=hl(t),Zm(r)}function BE(r){const t=r.parts_.pop();r.byteLength_-=hl(t),r.parts_.length>0&&(r.byteLength_-=1)}function Zm(r){if(r.byteLength_>Ap)throw new Error(r.errorPrefix_+"has a key path longer than "+Ap+" bytes ("+r.byteLength_+").");if(r.parts_.length>Op)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Op+") or object contains a cycle "+rr(r))}function rr(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Xm{static getInstance(){return new Rc}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=1e3,WE=60*5*1e3,Mp=30*1e3,HE=1.3,VE=3e4,$E="server_kill",Lp=3;class an extends Ym{constructor(t,i,o,l,a,d,h,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=an.nextPersistentConnectionId_++,this.log_=vs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=WE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ko.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const l=++this.requestNumber_,a={r:l,a:t,b:i};this.log_(Be(a)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const i=new gs,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),i.promise}listen(t,i,o,l){this.initConnection_();const a=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:t,tag:o};this.listens.get(d).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const a={p:o},d="q";t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(d,a,h=>{const m=h.d,g=h.s;an.warnOnListenWarnings_(m,i),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Yt(t,"w")){const o=Hr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Mv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Av(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const a=l.s,d=l.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,i)}sendUnlisten_(t,i,o,l){this.log_("Unlisten on "+t+" for "+i);const a={p:t},d="n";l&&(a.q=o,a.t=l),this.sendRequest(d,a)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,l){const a={p:i,d:o};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,i,o,l){this.putInternal("p",t,i,o,l)}merge(t,i,o,l){this.putInternal("m",t,i,o,l)}putInternal(t,i,o,l,a){this.initConnection_();const d={p:i,d:o};a!==void 0&&(d.h=a),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const a=o.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Za("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VE&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*HE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+an.nextConnectionId_++,a=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,o())},g=function(y){M(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,C]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);d?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=C&&C.token,h=new FE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,o,N=>{ot(N+" ("+this.repoInfo_.toString()+")"),this.interrupt($E)},a))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&ot(y),m())}}}interrupt(t){Xe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Xe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],cp(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;i?o=i.map(a=>Sc(a)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,i){const o=new _e(t).toString();let l;if(this.listens.has(o)){const a=this.listens.get(o);l=a.get(i),a.delete(i),a.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,i){Xe("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Lp&&(this.reconnectDelay_=Mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Xe("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Lp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Rm.replace(/\./g,"-")]=1,wm()?t["framework.cordova"]=1:Tv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ko.getInstance().currentlyOnline();return cp(this.interruptReasons_)&&t}}an.nextPersistentConnectionId_=0;an.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ie(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const o=new ie(Vr,t),l=new ie(Vr,i);return this.compare(o,l)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo;class eg extends pl{static get __EMPTY_NODE(){return Fo}static set __EMPTY_NODE(t){Fo=t}compare(t,i){return fr(t.name,i.name)}isDefinedOn(t){throw Xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ie.MIN}maxPost(){return new ie(or,Fo)}makePost(t,i){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new ie(t,Fo)}toString(){return".key"}}const Wr=new eg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,i,o,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?o(t.key,i):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ge{constructor(t,i,o,l,a){this.key=t,this.value=i,this.color=o??Ge.RED,this.left=l??pt.EMPTY_NODE,this.right=a??pt.EMPTY_NODE}copy(t,i,o,l,a){return new Ge(t??this.key,i??this.value,o??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let l=this;const a=o(t,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(t,i,o),null):a===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,l;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(t,o.key)===0){if(o.right.isEmpty())return pt.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class QE{copy(t,i,o,l,a){return this}insert(t,i,o){return new Ge(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(t,i=pt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new pt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(t){return new pt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(t){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(t,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(t){let i,o=this.root_,l=null;for(;!o.isEmpty();)if(i=this.comparator_(t,o.key),i===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new bo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new bo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new bo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new bo(this.root_,null,this.comparator_,!0,t)}}pt.EMPTY_NODE=new QE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r,t){return fr(r.name,t.name)}function Pc(r,t){return fr(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function KE(r){tc=r}const tg=function(r){return typeof r=="number"?"number:"+Am(r):"string:"+r},ng=function(r){if(r.isLeafNode()){const t=r.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Yt(t,".sv"),"Priority must be a string or number.")}else M(r===tc||r.isEmpty(),"priority of unexpected type.");M(r===tc||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp;class Qe{static set __childrenNodeConstructor(t){Fp=t}static get __childrenNodeConstructor(){return Fp}constructor(t,i=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ng(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Qe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:re(t)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=re(t);return o===null?i:i.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||jn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+tg(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Am(this.value_):t+=this.value_,this.lazyHash_=Dm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Qe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Qe.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,l=Qe.VALUE_TYPE_ORDER.indexOf(i),a=Qe.VALUE_TYPE_ORDER.indexOf(o);return M(l>=0,"Unknown leaf type: "+i),M(a>=0,"Unknown leaf type: "+o),l===a?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg,ig;function qE(r){rg=r}function YE(r){ig=r}class XE extends pl{compare(t,i){const o=t.node.getPriority(),l=i.node.getPriority(),a=o.compareTo(l);return a===0?fr(t.name,i.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(or,new Qe("[PRIORITY-POST]",ig))}makePost(t,i){const o=rg(t);return new ie(i,new Qe("[PRIORITY-POST]",o))}toString(){return".priority"}}const Me=new XE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=Math.log(2);class ZE{constructor(t){const i=a=>parseInt(Math.log(a)/JE,10),o=a=>parseInt(Array(a+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const qo=function(r,t,i,o){r.sort(t);const l=function(m,g){const v=g-m;let y,C;if(v===0)return null;if(v===1)return y=r[m],C=i?i(y):y,new Ge(C,y.node,Ge.BLACK,null,null);{const N=parseInt(v/2,10)+m,O=l(m,N),L=l(N+1,g);return y=r[N],C=i?i(y):y,new Ge(C,y.node,Ge.BLACK,O,L)}},a=function(m){let g=null,v=null,y=r.length;const C=function(O,L){const F=y-O,ee=y;y-=O;const Z=l(F+1,ee),le=r[F],$=i?i(le):le;N(new Ge($,le.node,L,null,Z))},N=function(O){g?(g.left=O,g=O):(v=O,g=O)};for(let O=0;O<m.count;++O){const L=m.nextBitIsOne(),F=Math.pow(2,m.count-(O+1));L?C(F,Ge.BLACK):(C(F,Ge.BLACK),C(F,Ge.RED))}return v},d=new ZE(r.length),h=a(d);return new pt(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;const Vi={};class ln{static get Default(){return M(Me,"ChildrenNode.ts has not been loaded"),Ma=Ma||new ln({".priority":Vi},{".priority":Me}),Ma}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Hr(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof pt?i:null}hasIndex(t){return Yt(this.indexSet_,t.toString())}addIndex(t,i){M(t!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const a=i.getIterator(ie.Wrap);let d=a.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=a.getNext();let h;l?h=qo(o,t.getCompare()):h=Vi;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const v=Object.assign({},this.indexes_);return v[m]=h,new ln(v,g)}addToIndexes(t,i){const o=Vo(this.indexes_,(l,a)=>{const d=Hr(this.indexSet_,a);if(M(d,"Missing index implementation for "+a),l===Vi)if(d.isDefinedOn(t.node)){const h=[],m=i.getIterator(ie.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&h.push(g),g=m.getNext();return h.push(t),qo(h,d.getCompare())}else return Vi;else{const h=i.get(t.name);let m=l;return h&&(m=m.remove(new ie(t.name,h))),m.insert(t,t.node)}});return new ln(o,this.indexSet_)}removeFromIndexes(t,i){const o=Vo(this.indexes_,l=>{if(l===Vi)return l;{const a=i.get(t.name);return a?l.remove(new ie(t.name,a)):l}});return new ln(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i;class Y{static get EMPTY_NODE(){return $i||($i=new Y(new pt(Pc),null,ln.Default))}constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ng(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$i}updatePriority(t){return this.children_.isEmpty()?this:new Y(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?$i:i}}getChild(t){const i=re(t);return i===null?this:this.getImmediateChild(i).getChild(Ce(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(M(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const o=new ie(t,i);let l,a;i.isEmpty()?(l=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?$i:this.priorityNode_;return new Y(l,d,a)}}updateChild(t,i){const o=re(t);if(o===null)return i;{M(re(t)!==".priority"||jn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Ce(t),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,l=0,a=!0;if(this.forEachChild(Me,(d,h)=>{i[d]=h.val(t),o++,a&&Y.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):a=!1}),!t&&a&&l<2*o){const d=[];for(const h in i)d[h]=i[h];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+tg(this.getPriority().val())+":"),this.forEachChild(Me,(i,o)=>{const l=o.hash();l!==""&&(t+=":"+i+":"+l)}),this.lazyHash_=t===""?"":Dm(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const l=this.resolveIndex_(o);if(l){const a=l.getPredecessorKey(new ie(t,i));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ie(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ie(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,ie.Wrap);let a=l.peek();for(;a!=null&&i.compare(a,t)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,ie.Wrap);let a=l.peek();for(;a!=null&&i.compare(a,t)>0;)l.getNext(),a=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ws?-1:0}withIndex(t){if(t===Wr||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Y(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Wr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(Me),l=i.getIterator(Me);let a=o.getNext(),d=l.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=o.getNext(),d=l.getNext()}return a===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Wr?null:this.indexMap_.get(t.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eC extends Y{constructor(){super(new pt(Pc),Y.EMPTY_NODE,ln.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Y.EMPTY_NODE}isEmpty(){return!1}}const ws=new eC;Object.defineProperties(ie,{MIN:{value:new ie(Vr,Y.EMPTY_NODE)},MAX:{value:new ie(or,ws)}});eg.__EMPTY_NODE=Y.EMPTY_NODE;Qe.__childrenNodeConstructor=Y;KE(ws);YE(ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=!0;function Ue(r,t=null){if(r===null)return Y.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new Qe(i,Ue(t))}if(!(r instanceof Array)&&tC){const i=[];let o=!1;if(Je(r,(d,h)=>{if(d.substring(0,1)!=="."){const m=Ue(h);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),i.push(new ie(d,m)))}}),i.length===0)return Y.EMPTY_NODE;const a=qo(i,GE,d=>d.name,Pc);if(o){const d=qo(i,Me.getCompare());return new Y(a,Ue(t),new ln({".priority":d},{".priority":Me}))}else return new Y(a,Ue(t),ln.Default)}else{let i=Y.EMPTY_NODE;return Je(r,(o,l)=>{if(Yt(r,o)&&o.substring(0,1)!=="."){const a=Ue(l);(a.isLeafNode()||!a.isEmpty())&&(i=i.updateImmediateChild(o,a))}}),i.updatePriority(Ue(t))}}qE(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends pl{constructor(t){super(),this.indexPath_=t,M(!oe(t)&&re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const o=this.extractChild(t.node),l=this.extractChild(i.node),a=o.compareTo(l);return a===0?fr(t.name,i.name):a}makePost(t,i){const o=Ue(t),l=Y.EMPTY_NODE.updateChild(this.indexPath_,o);return new ie(i,l)}maxPost(){const t=Y.EMPTY_NODE.updateChild(this.indexPath_,ws);return new ie(or,t)}toString(){return ss(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends pl{compare(t,i){const o=t.node.compareTo(i.node);return o===0?fr(t.name,i.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(t,i){const o=Ue(t);return new ie(i,o)}toString(){return".value"}}const iC=new rC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r){return{type:"value",snapshotNode:r}}function $r(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function os(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function ls(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function sC(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t){this.index_=t}updateChild(t,i,o,l,a,d){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(i)?d.trackChildChange(os(i,h)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange($r(i,o)):d.trackChildChange(ls(i,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(t,i,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Me,(l,a)=>{i.hasChild(l)||o.trackChildChange(os(l,a))}),i.isLeafNode()||i.forEachChild(Me,(l,a)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(a)||o.trackChildChange(ls(l,a,d))}else o.trackChildChange($r(l,a))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?Y.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.indexedFilter_=new Dc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=us.getStartPost_(t),this.endPost_=us.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&o}updateChild(t,i,o,l,a,d){return this.matches(new ie(i,o))||(o=Y.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,o,l,a,d)}updateFullNode(t,i,o){i.isLeafNode()&&(i=Y.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(Y.EMPTY_NODE);const a=this;return i.forEachChild(Me,(d,h)=>{a.matches(new ie(d,h))||(l=l.updateImmediateChild(d,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new us(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,o,l,a,d){return this.rangedFilter_.matches(new ie(i,o))||(o=Y.EMPTY_NODE),t.getImmediateChild(i).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,o,l,a,d):this.fullLimitUpdateChild_(t,i,o,a,d)}updateFullNode(t,i,o){let l;if(i.isLeafNode()||i.isEmpty())l=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=Y.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;a.hasNext()&&d<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(Y.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let d=0;for(;a.hasNext();){const h=a.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,o,l,a){let d;if(this.reverse_){const y=this.index_.getCompare();d=(C,N)=>y(N,C)}else d=this.index_.getCompare();const h=t;M(h.numChildren()===this.limit_,"");const m=new ie(i,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(h.hasChild(i)){const y=h.getImmediateChild(i);let C=l.getChildAfterChild(this.index_,g,this.reverse_);for(;C!=null&&(C.name===i||h.hasChild(C.name));)C=l.getChildAfterChild(this.index_,C,this.reverse_);const N=C==null?1:d(C,m);if(v&&!o.isEmpty()&&N>=0)return a!=null&&a.trackChildChange(ls(i,o,y)),h.updateImmediateChild(i,o);{a!=null&&a.trackChildChange(os(i,y));const L=h.updateImmediateChild(i,Y.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(a!=null&&a.trackChildChange($r(C.name,C.node)),L.updateImmediateChild(C.name,C.node)):L}}else return o.isEmpty()?t:v&&d(g,m)>=0?(a!=null&&(a.trackChildChange(os(g.name,g.node)),a.trackChildChange($r(i,o))),h.updateImmediateChild(i,o).updateImmediateChild(g.name,Y.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const t=new Oc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function lC(r){return r.loadsAllData()?new Dc(r.getIndex()):r.hasLimit()?new oC(r):new us(r)}function bp(r){const t={};if(r.isDefault())return t;let i;if(r.index_===Me?i="$priority":r.index_===iC?i="$value":r.index_===Wr?i="$key":(M(r.index_ instanceof nC,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=Be(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=Be(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+Be(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=Be(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+Be(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function zp(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==Me&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Ym{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=vs("p:rest:"),this.listens_={}}listen(t,i,o,l){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const d=Yo.getListenId_(t,o),h={};this.listens_[d]=h;const m=bp(t._queryParams);this.restRequest_(a+".json",m,(g,v)=>{let y=v;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(a,y,!1,o),Hr(this.listens_,d)===h){let C;g?g===401?C="permission_denied":C="rest_error:"+g:C="ok",l(C,null)}})}unlisten(t,i){const o=Yo.getListenId_(t,i);delete this.listens_[o]}get(t){const i=bp(t._queryParams),o=t._path.toString(),l=new gs;return this.restRequest_(o+".json",i,(a,d)=>{let h=d;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(i.auth=l.accessToken),a&&a.token&&(i.ac=a.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Lv(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=ts(h.responseText)}catch{ot("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,m)}else h.status!==401&&h.status!==404&&ot("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return{value:null,children:new Map}}function og(r,t,i){if(oe(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const o=re(t);r.children.has(o)||r.children.set(o,Xo());const l=r.children.get(o);t=Ce(t),og(l,t,i)}}function nc(r,t,i){r.value!==null?i(t,r.value):aC(r,(o,l)=>{const a=new _e(t.toString()+"/"+o);nc(l,a,i)})}function aC(r,t){r.children.forEach((i,o)=>{t(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&Je(this.last_,(o,l)=>{i[o]=i[o]-l}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=10*1e3,dC=30*1e3,fC=5*60*1e3;class hC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new cC(t);const o=jp+(dC-jp)*Math.random();qi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),i={};let o=!1;Je(t,(l,a)=>{a>0&&Yt(this.statsToReport_,l)&&(i[l]=a,o=!0)}),o&&this.server_.reportStats(i),qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*fC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bt||(Bt={}));function Ac(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Mc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lc(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,i,o){this.path=t,this.affectedTree=i,this.revert=o,this.type=Bt.ACK_USER_WRITE,this.source=Ac()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new _e(t));return new Jo(pe(),i,this.revert)}}else return M(re(this.path)===t,"operationForChild called for unrelated child."),new Jo(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,i){this.source=t,this.path=i,this.type=Bt.LISTEN_COMPLETE}operationForChild(t){return oe(this.path)?new as(this.source,pe()):new as(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,i,o){this.source=t,this.path=i,this.snap=o,this.type=Bt.OVERWRITE}operationForChild(t){return oe(this.path)?new lr(this.source,pe(),this.snap.getImmediateChild(t)):new lr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,i,o){this.source=t,this.path=i,this.children=o,this.type=Bt.MERGE}operationForChild(t){if(oe(this.path)){const i=this.children.subtree(new _e(t));return i.isEmpty()?null:i.value?new lr(this.source,pe(),i.value):new Qr(this.source,pe(),i)}else return M(re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qr(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,i,o){this.node_=t,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const i=re(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function mC(r,t,i,o){const l=[],a=[];return t.forEach(d=>{d.type==="child_changed"&&r.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&a.push(sC(d.childName,d.snapshotNode))}),Qi(r,l,"child_removed",t,o,i),Qi(r,l,"child_added",t,o,i),Qi(r,l,"child_moved",a,o,i),Qi(r,l,"child_changed",t,o,i),Qi(r,l,"value",t,o,i),l}function Qi(r,t,i,o,l,a){const d=o.filter(h=>h.type===i);d.sort((h,m)=>_C(r,h,m)),d.forEach(h=>{const m=gC(r,h,a);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(m,r.query_))})})}function gC(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function _C(r,t,i){if(t.childName==null||i.childName==null)throw Xr("Should only compare child_ events.");const o=new ie(t.childName,t.snapshotNode),l=new ie(i.childName,i.snapshotNode);return r.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(r,t){return{eventCache:r,serverCache:t}}function Yi(r,t,i,o){return ml(new Un(t,i,o),r.serverCache)}function lg(r,t,i,o){return ml(r.eventCache,new Un(t,i,o))}function Zo(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ur(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;const yC=()=>(La||(La=new pt(nE)),La);class we{static fromObject(t){let i=new we(null);return Je(t,(o,l)=>{i=i.set(new _e(o),l)}),i}constructor(t,i=yC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:pe(),value:this.value};if(oe(t))return null;{const o=re(t),l=this.children.get(o);if(l!==null){const a=l.findRootMostMatchingPathAndValue(Ce(t),i);return a!=null?{path:Ae(new _e(o),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const i=re(t),o=this.children.get(i);return o!==null?o.subtree(Ce(t)):new we(null)}}set(t,i){if(oe(t))return new we(i,this.children);{const o=re(t),a=(this.children.get(o)||new we(null)).set(Ce(t),i),d=this.children.insert(o,a);return new we(this.value,d)}}remove(t){if(oe(t))return this.children.isEmpty()?new we(null):new we(null,this.children);{const i=re(t),o=this.children.get(i);if(o){const l=o.remove(Ce(t));let a;return l.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,l),this.value===null&&a.isEmpty()?new we(null):new we(this.value,a)}else return this}}get(t){if(oe(t))return this.value;{const i=re(t),o=this.children.get(i);return o?o.get(Ce(t)):null}}setTree(t,i){if(oe(t))return i;{const o=re(t),a=(this.children.get(o)||new we(null)).setTree(Ce(t),i);let d;return a.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,a),new we(this.value,d)}}fold(t){return this.fold_(pe(),t)}fold_(t,i){const o={};return this.children.inorderTraversal((l,a)=>{o[l]=a.fold_(Ae(t,l),i)}),i(t,this.value,o)}findOnPath(t,i){return this.findOnPath_(t,pe(),i)}findOnPath_(t,i,o){const l=this.value?o(i,this.value):!1;if(l)return l;if(oe(t))return null;{const a=re(t),d=this.children.get(a);return d?d.findOnPath_(Ce(t),Ae(i,a),o):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,pe(),i)}foreachOnPath_(t,i,o){if(oe(t))return this;{this.value&&o(i,this.value);const l=re(t),a=this.children.get(l);return a?a.foreachOnPath_(Ce(t),Ae(i,l),o):new we(null)}}foreach(t){this.foreach_(pe(),t)}foreach_(t,i){this.children.inorderTraversal((o,l)=>{l.foreach_(Ae(t,o),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,o)=>{o.value&&t(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.writeTree_=t}static empty(){return new Wt(new we(null))}}function Xi(r,t,i){if(oe(t))return new Wt(new we(i));{const o=r.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let a=o.value;const d=st(l,t);return a=a.updateChild(d,i),new Wt(r.writeTree_.set(l,a))}else{const l=new we(i),a=r.writeTree_.setTree(t,l);return new Wt(a)}}}function rc(r,t,i){let o=r;return Je(i,(l,a)=>{o=Xi(o,Ae(t,l),a)}),o}function Up(r,t){if(oe(t))return Wt.empty();{const i=r.writeTree_.setTree(t,new we(null));return new Wt(i)}}function ic(r,t){return hr(r,t)!=null}function hr(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(st(i.path,t)):null}function Bp(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Me,(o,l)=>{t.push(new ie(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new ie(o,l.value))}),t}function bn(r,t){if(oe(t))return r;{const i=hr(r,t);return i!=null?new Wt(new we(i)):new Wt(r.writeTree_.subtree(t))}}function sc(r){return r.writeTree_.isEmpty()}function Gr(r,t){return ug(pe(),r.writeTree_,t)}function ug(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,a)=>{l===".priority"?(M(a.value!==null,"Priority writes must always be leaf nodes"),o=a.value):i=ug(Ae(r,l),a,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(Ae(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r,t){return fg(t,r)}function vC(r,t,i,o,l){M(o>r.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),r.allWrites.push({path:t,snap:i,writeId:o,visible:l}),l&&(r.visibleWrites=Xi(r.visibleWrites,t,i)),r.lastWriteId=o}function wC(r,t,i,o){M(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:i,writeId:o,visible:!0}),r.visibleWrites=rc(r.visibleWrites,t,i),r.lastWriteId=o}function EC(r,t){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===t)return o}return null}function CC(r,t){const i=r.allWrites.findIndex(h=>h.writeId===t);M(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let l=o.visible,a=!1,d=r.allWrites.length-1;for(;l&&d>=0;){const h=r.allWrites[d];h.visible&&(d>=i&&SC(h,o.path)?l=!1:Pt(o.path,h.path)&&(a=!0)),d--}if(l){if(a)return kC(r),!0;if(o.snap)r.visibleWrites=Up(r.visibleWrites,o.path);else{const h=o.children;Je(h,m=>{r.visibleWrites=Up(r.visibleWrites,Ae(o.path,m))})}return!0}else return!1}function SC(r,t){if(r.snap)return Pt(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Pt(Ae(r.path,i),t))return!0;return!1}function kC(r){r.visibleWrites=ag(r.allWrites,IC,pe()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function IC(r){return r.visible}function ag(r,t,i){let o=Wt.empty();for(let l=0;l<r.length;++l){const a=r[l];if(t(a)){const d=a.path;let h;if(a.snap)Pt(i,d)?(h=st(i,d),o=Xi(o,h,a.snap)):Pt(d,i)&&(h=st(d,i),o=Xi(o,pe(),a.snap.getChild(h)));else if(a.children){if(Pt(i,d))h=st(i,d),o=rc(o,h,a.children);else if(Pt(d,i))if(h=st(d,i),oe(h))o=rc(o,pe(),a.children);else{const m=Hr(a.children,re(h));if(m){const g=m.getChild(Ce(h));o=Xi(o,pe(),g)}}}else throw Xr("WriteRecord should have .snap or .children")}}return o}function cg(r,t,i,o,l){if(!o&&!l){const a=hr(r.visibleWrites,t);if(a!=null)return a;{const d=bn(r.visibleWrites,t);if(sc(d))return i;if(i==null&&!ic(d,pe()))return null;{const h=i||Y.EMPTY_NODE;return Gr(d,h)}}}else{const a=bn(r.visibleWrites,t);if(!l&&sc(a))return i;if(!l&&i==null&&!ic(a,pe()))return null;{const d=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Pt(g.path,t)||Pt(t,g.path))},h=ag(r.allWrites,d,t),m=i||Y.EMPTY_NODE;return Gr(h,m)}}}function TC(r,t,i){let o=Y.EMPTY_NODE;const l=hr(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Me,(a,d)=>{o=o.updateImmediateChild(a,d)}),o;if(i){const a=bn(r.visibleWrites,t);return i.forEachChild(Me,(d,h)=>{const m=Gr(bn(a,new _e(d)),h);o=o.updateImmediateChild(d,m)}),Bp(a).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const a=bn(r.visibleWrites,t);return Bp(a).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function NC(r,t,i,o,l){M(o||l,"Either existingEventSnap or existingServerSnap must exist");const a=Ae(t,i);if(ic(r.visibleWrites,a))return null;{const d=bn(r.visibleWrites,a);return sc(d)?l.getChild(i):Gr(d,l.getChild(i))}}function xC(r,t,i,o){const l=Ae(t,i),a=hr(r.visibleWrites,l);if(a!=null)return a;if(o.isCompleteForChild(i)){const d=bn(r.visibleWrites,l);return Gr(d,o.getNode().getImmediateChild(i))}else return null}function RC(r,t){return hr(r.visibleWrites,t)}function PC(r,t,i,o,l,a,d){let h;const m=bn(r.visibleWrites,t),g=hr(m,pe());if(g!=null)h=g;else if(i!=null)h=Gr(m,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const v=[],y=d.getCompare(),C=a?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let N=C.getNext();for(;N&&v.length<l;)y(N,o)!==0&&v.push(N),N=C.getNext();return v}else return[]}function DC(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function el(r,t,i,o){return cg(r.writeTree,r.treePath,t,i,o)}function Fc(r,t){return TC(r.writeTree,r.treePath,t)}function Wp(r,t,i,o){return NC(r.writeTree,r.treePath,t,i,o)}function tl(r,t){return RC(r.writeTree,Ae(r.treePath,t))}function OC(r,t,i,o,l,a){return PC(r.writeTree,r.treePath,t,i,o,l,a)}function bc(r,t,i){return xC(r.writeTree,r.treePath,t,i)}function dg(r,t){return fg(Ae(r.treePath,t),r.writeTree)}function fg(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,o=t.childName;M(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const a=l.type;if(i==="child_added"&&a==="child_removed")this.changeMap.set(o,ls(o,t.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&a==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&a==="child_changed")this.changeMap.set(o,os(o,l.oldSnap));else if(i==="child_changed"&&a==="child_added")this.changeMap.set(o,$r(o,t.snapshotNode));else if(i==="child_changed"&&a==="child_changed")this.changeMap.set(o,ls(o,t.snapshotNode,l.oldSnap));else throw Xr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{getCompleteChild(t){return null}getChildAfterChild(t,i,o){return null}}const hg=new MC;class zc{constructor(t,i,o=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bc(this.writes_,t,o)}}getChildAfterChild(t,i,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),a=OC(this.writes_,l,i,1,o,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){return{filter:r}}function FC(r,t){M(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function bC(r,t,i,o,l){const a=new AC;let d,h;if(i.type===Bt.OVERWRITE){const g=i;g.source.fromUser?d=oc(r,t,g.path,g.snap,o,l,a):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!oe(g.path),d=nl(r,t,g.path,g.snap,o,l,h,a))}else if(i.type===Bt.MERGE){const g=i;g.source.fromUser?d=jC(r,t,g.path,g.children,o,l,a):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=lc(r,t,g.path,g.children,o,l,h,a))}else if(i.type===Bt.ACK_USER_WRITE){const g=i;g.revert?d=WC(r,t,g.path,o,l,a):d=UC(r,t,g.path,g.affectedTree,o,l,a)}else if(i.type===Bt.LISTEN_COMPLETE)d=BC(r,t,i.path,o,a);else throw Xr("Unknown operation type: "+i.type);const m=a.getChanges();return zC(t,d,m),{viewCache:d,changes:m}}function zC(r,t,i){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),a=Zo(r);(i.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(a)||!o.getNode().getPriority().equals(a.getPriority()))&&i.push(sg(Zo(t)))}}function pg(r,t,i,o,l,a){const d=t.eventCache;if(tl(o,i)!=null)return t;{let h,m;if(oe(i))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ur(t),v=g instanceof Y?g:Y.EMPTY_NODE,y=Fc(o,v);h=r.filter.updateFullNode(t.eventCache.getNode(),y,a)}else{const g=el(o,ur(t));h=r.filter.updateFullNode(t.eventCache.getNode(),g,a)}else{const g=re(i);if(g===".priority"){M(jn(i)===1,"Can't have a priority with additional path components");const v=d.getNode();m=t.serverCache.getNode();const y=Wp(o,i,v,m);y!=null?h=r.filter.updatePriority(v,y):h=d.getNode()}else{const v=Ce(i);let y;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const C=Wp(o,i,d.getNode(),m);C!=null?y=d.getNode().getImmediateChild(g).updateChild(v,C):y=d.getNode().getImmediateChild(g)}else y=bc(o,g,t.serverCache);y!=null?h=r.filter.updateChild(d.getNode(),g,y,v,l,a):h=d.getNode()}}return Yi(t,h,d.isFullyInitialized()||oe(i),r.filter.filtersNodes())}}function nl(r,t,i,o,l,a,d,h){const m=t.serverCache;let g;const v=d?r.filter:r.filter.getIndexedFilter();if(oe(i))g=v.updateFullNode(m.getNode(),o,null);else if(v.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(i,o);g=v.updateFullNode(m.getNode(),N,null)}else{const N=re(i);if(!m.isCompleteForPath(i)&&jn(i)>1)return t;const O=Ce(i),F=m.getNode().getImmediateChild(N).updateChild(O,o);N===".priority"?g=v.updatePriority(m.getNode(),F):g=v.updateChild(m.getNode(),N,F,O,hg,null)}const y=lg(t,g,m.isFullyInitialized()||oe(i),v.filtersNodes()),C=new zc(l,y,a);return pg(r,y,i,l,C,h)}function oc(r,t,i,o,l,a,d){const h=t.eventCache;let m,g;const v=new zc(l,t,a);if(oe(i))g=r.filter.updateFullNode(t.eventCache.getNode(),o,d),m=Yi(t,g,!0,r.filter.filtersNodes());else{const y=re(i);if(y===".priority")g=r.filter.updatePriority(t.eventCache.getNode(),o),m=Yi(t,g,h.isFullyInitialized(),h.isFiltered());else{const C=Ce(i),N=h.getNode().getImmediateChild(y);let O;if(oe(C))O=o;else{const L=v.getCompleteChild(y);L!=null?Nc(C)===".priority"&&L.getChild(Jm(C)).isEmpty()?O=L:O=L.updateChild(C,o):O=Y.EMPTY_NODE}if(N.equals(O))m=t;else{const L=r.filter.updateChild(h.getNode(),y,O,C,v,d);m=Yi(t,L,h.isFullyInitialized(),r.filter.filtersNodes())}}}return m}function Hp(r,t){return r.eventCache.isCompleteForChild(t)}function jC(r,t,i,o,l,a,d){let h=t;return o.foreach((m,g)=>{const v=Ae(i,m);Hp(t,re(v))&&(h=oc(r,h,v,g,l,a,d))}),o.foreach((m,g)=>{const v=Ae(i,m);Hp(t,re(v))||(h=oc(r,h,v,g,l,a,d))}),h}function Vp(r,t,i){return i.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function lc(r,t,i,o,l,a,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;oe(i)?g=o:g=new we(null).setTree(i,o);const v=t.serverCache.getNode();return g.children.inorderTraversal((y,C)=>{if(v.hasChild(y)){const N=t.serverCache.getNode().getImmediateChild(y),O=Vp(r,N,C);m=nl(r,m,new _e(y),O,l,a,d,h)}}),g.children.inorderTraversal((y,C)=>{const N=!t.serverCache.isCompleteForChild(y)&&C.value===null;if(!v.hasChild(y)&&!N){const O=t.serverCache.getNode().getImmediateChild(y),L=Vp(r,O,C);m=nl(r,m,new _e(y),L,l,a,d,h)}}),m}function UC(r,t,i,o,l,a,d){if(tl(l,i)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(oe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return nl(r,t,i,m.getNode().getChild(i),l,a,h,d);if(oe(i)){let g=new we(null);return m.getNode().forEachChild(Wr,(v,y)=>{g=g.set(new _e(v),y)}),lc(r,t,i,g,l,a,h,d)}else return t}else{let g=new we(null);return o.foreach((v,y)=>{const C=Ae(i,v);m.isCompleteForPath(C)&&(g=g.set(v,m.getNode().getChild(C)))}),lc(r,t,i,g,l,a,h,d)}}function BC(r,t,i,o,l){const a=t.serverCache,d=lg(t,a.getNode(),a.isFullyInitialized()||oe(i),a.isFiltered());return pg(r,d,i,o,hg,l)}function WC(r,t,i,o,l,a){let d;if(tl(o,i)!=null)return t;{const h=new zc(o,t,l),m=t.eventCache.getNode();let g;if(oe(i)||re(i)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=el(o,ur(t));else{const y=t.serverCache.getNode();M(y instanceof Y,"serverChildren would be complete if leaf node"),v=Fc(o,y)}v=v,g=r.filter.updateFullNode(m,v,a)}else{const v=re(i);let y=bc(o,v,t.serverCache);y==null&&t.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?g=r.filter.updateChild(m,v,y,Ce(i),h,a):t.eventCache.getNode().hasChild(v)?g=r.filter.updateChild(m,v,Y.EMPTY_NODE,Ce(i),h,a):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=el(o,ur(t)),d.isLeafNode()&&(g=r.filter.updateFullNode(g,d,a)))}return d=t.serverCache.isFullyInitialized()||tl(o,pe())!=null,Yi(t,g,d,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Dc(o.getIndex()),a=lC(o);this.processor_=LC(a);const d=i.serverCache,h=i.eventCache,m=l.updateFullNode(Y.EMPTY_NODE,d.getNode(),null),g=a.updateFullNode(Y.EMPTY_NODE,h.getNode(),null),v=new Un(m,d.isFullyInitialized(),l.filtersNodes()),y=new Un(g,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=ml(y,v),this.eventGenerator_=new pC(this.query_)}get query(){return this.query_}}function VC(r){return r.viewCache_.serverCache.getNode()}function $C(r){return Zo(r.viewCache_)}function QC(r,t){const i=ur(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!oe(t)&&!i.getImmediateChild(re(t)).isEmpty())?i.getChild(t):null}function $p(r){return r.eventRegistrations_.length===0}function GC(r,t){r.eventRegistrations_.push(t)}function Qp(r,t,i){const o=[];if(i){M(t==null,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(a=>{const d=a.createCancelEvent(i,l);d&&o.push(d)})}if(t){let l=[];for(let a=0;a<r.eventRegistrations_.length;++a){const d=r.eventRegistrations_[a];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(a+1));break}}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function Gp(r,t,i,o){t.type===Bt.MERGE&&t.source.queryId!==null&&(M(ur(r.viewCache_),"We should always have a full cache before handling merges"),M(Zo(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,a=bC(r.processor_,l,t,i,o);return FC(r.processor_,a.viewCache),M(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=a.viewCache,mg(r,a.changes,a.viewCache.eventCache.getNode(),null)}function KC(r,t){const i=r.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Me,(a,d)=>{o.push($r(a,d))}),i.isFullyInitialized()&&o.push(sg(i.getNode())),mg(r,o,i.getNode(),t)}function mg(r,t,i,o){const l=o?[o]:r.eventRegistrations_;return mC(r.eventGenerator_,t,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl;class gg{constructor(){this.views=new Map}}function qC(r){M(!rl,"__referenceConstructor has already been defined"),rl=r}function YC(){return M(rl,"Reference.ts has not been loaded"),rl}function XC(r){return r.views.size===0}function jc(r,t,i,o){const l=t.source.queryId;if(l!==null){const a=r.views.get(l);return M(a!=null,"SyncTree gave us an op for an invalid query."),Gp(a,t,i,o)}else{let a=[];for(const d of r.views.values())a=a.concat(Gp(d,t,i,o));return a}}function _g(r,t,i,o,l){const a=t._queryIdentifier,d=r.views.get(a);if(!d){let h=el(i,l?o:null),m=!1;h?m=!0:o instanceof Y?(h=Fc(i,o),m=!1):(h=Y.EMPTY_NODE,m=!1);const g=ml(new Un(h,m,!1),new Un(o,l,!1));return new HC(t,g)}return d}function JC(r,t,i,o,l,a){const d=_g(r,t,o,l,a);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,d),GC(d,i),KC(d,i)}function ZC(r,t,i,o){const l=t._queryIdentifier,a=[];let d=[];const h=Bn(r);if(l==="default")for(const[m,g]of r.views.entries())d=d.concat(Qp(g,i,o)),$p(g)&&(r.views.delete(m),g.query._queryParams.loadsAllData()||a.push(g.query));else{const m=r.views.get(l);m&&(d=d.concat(Qp(m,i,o)),$p(m)&&(r.views.delete(l),m.query._queryParams.loadsAllData()||a.push(m.query)))}return h&&!Bn(r)&&a.push(new(YC())(t._repo,t._path)),{removed:a,events:d}}function yg(r){const t=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function zn(r,t){let i=null;for(const o of r.views.values())i=i||QC(o,t);return i}function vg(r,t){if(t._queryParams.loadsAllData())return _l(r);{const o=t._queryIdentifier;return r.views.get(o)}}function wg(r,t){return vg(r,t)!=null}function Bn(r){return _l(r)!=null}function _l(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;function eS(r){M(!il,"__referenceConstructor has already been defined"),il=r}function tS(){return M(il,"Reference.ts has not been loaded"),il}let nS=1;class Kp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new we(null),this.pendingWriteTree_=DC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Eg(r,t,i,o,l){return vC(r.pendingWriteTree_,t,i,o,l),l?Zr(r,new lr(Ac(),t,i)):[]}function rS(r,t,i,o){wC(r.pendingWriteTree_,t,i,o);const l=we.fromObject(i);return Zr(r,new Qr(Ac(),t,l))}function Mn(r,t,i=!1){const o=EC(r.pendingWriteTree_,t);if(CC(r.pendingWriteTree_,t)){let a=new we(null);return o.snap!=null?a=a.set(pe(),!0):Je(o.children,d=>{a=a.set(new _e(d),!0)}),Zr(r,new Jo(o.path,a,i))}else return[]}function Es(r,t,i){return Zr(r,new lr(Mc(),t,i))}function iS(r,t,i){const o=we.fromObject(i);return Zr(r,new Qr(Mc(),t,o))}function sS(r,t){return Zr(r,new as(Mc(),t))}function oS(r,t,i){const o=Bc(r,i);if(o){const l=Wc(o),a=l.path,d=l.queryId,h=st(a,t),m=new as(Lc(d),h);return Hc(r,a,m)}else return[]}function sl(r,t,i,o,l=!1){const a=t._path,d=r.syncPointTree_.get(a);let h=[];if(d&&(t._queryIdentifier==="default"||wg(d,t))){const m=ZC(d,t,i,o);XC(d)&&(r.syncPointTree_=r.syncPointTree_.remove(a));const g=m.removed;if(h=m.events,!l){const v=g.findIndex(C=>C._queryParams.loadsAllData())!==-1,y=r.syncPointTree_.findOnPath(a,(C,N)=>Bn(N));if(v&&!y){const C=r.syncPointTree_.subtree(a);if(!C.isEmpty()){const N=aS(C);for(let O=0;O<N.length;++O){const L=N[O],F=L.query,ee=Ig(r,L);r.listenProvider_.startListening(Ji(F),cs(r,F),ee.hashFn,ee.onComplete)}}}!y&&g.length>0&&!o&&(v?r.listenProvider_.stopListening(Ji(t),null):g.forEach(C=>{const N=r.queryToTagMap.get(yl(C));r.listenProvider_.stopListening(Ji(C),N)}))}cS(r,g)}return h}function Cg(r,t,i,o){const l=Bc(r,o);if(l!=null){const a=Wc(l),d=a.path,h=a.queryId,m=st(d,t),g=new lr(Lc(h),m,i);return Hc(r,d,g)}else return[]}function lS(r,t,i,o){const l=Bc(r,o);if(l){const a=Wc(l),d=a.path,h=a.queryId,m=st(d,t),g=we.fromObject(i),v=new Qr(Lc(h),m,g);return Hc(r,d,v)}else return[]}function uc(r,t,i,o=!1){const l=t._path;let a=null,d=!1;r.syncPointTree_.foreachOnPath(l,(C,N)=>{const O=st(C,l);a=a||zn(N,O),d=d||Bn(N)});let h=r.syncPointTree_.get(l);h?(d=d||Bn(h),a=a||zn(h,pe())):(h=new gg,r.syncPointTree_=r.syncPointTree_.set(l,h));let m;a!=null?m=!0:(m=!1,a=Y.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((N,O)=>{const L=zn(O,pe());L&&(a=a.updateImmediateChild(N,L))}));const g=wg(h,t);if(!g&&!t._queryParams.loadsAllData()){const C=yl(t);M(!r.queryToTagMap.has(C),"View does not exist, but we have a tag");const N=dS();r.queryToTagMap.set(C,N),r.tagToQueryMap.set(N,C)}const v=gl(r.pendingWriteTree_,l);let y=JC(h,t,i,v,a,m);if(!g&&!d&&!o){const C=vg(h,t);y=y.concat(fS(r,t,C))}return y}function Uc(r,t,i){const l=r.pendingWriteTree_,a=r.syncPointTree_.findOnPath(t,(d,h)=>{const m=st(d,t),g=zn(h,m);if(g)return g});return cg(l,t,a,i,!0)}function uS(r,t){const i=t._path;let o=null;r.syncPointTree_.foreachOnPath(i,(g,v)=>{const y=st(g,i);o=o||zn(v,y)});let l=r.syncPointTree_.get(i);l?o=o||zn(l,pe()):(l=new gg,r.syncPointTree_=r.syncPointTree_.set(i,l));const a=o!=null,d=a?new Un(o,!0,!1):null,h=gl(r.pendingWriteTree_,t._path),m=_g(l,t,h,a?d.getNode():Y.EMPTY_NODE,a);return $C(m)}function Zr(r,t){return Sg(t,r.syncPointTree_,null,gl(r.pendingWriteTree_,pe()))}function Sg(r,t,i,o){if(oe(r.path))return kg(r,t,i,o);{const l=t.get(pe());i==null&&l!=null&&(i=zn(l,pe()));let a=[];const d=re(r.path),h=r.operationForChild(d),m=t.children.get(d);if(m&&h){const g=i?i.getImmediateChild(d):null,v=dg(o,d);a=a.concat(Sg(h,m,g,v))}return l&&(a=a.concat(jc(l,r,o,i))),a}}function kg(r,t,i,o){const l=t.get(pe());i==null&&l!=null&&(i=zn(l,pe()));let a=[];return t.children.inorderTraversal((d,h)=>{const m=i?i.getImmediateChild(d):null,g=dg(o,d),v=r.operationForChild(d);v&&(a=a.concat(kg(v,h,m,g)))}),l&&(a=a.concat(jc(l,r,o,i))),a}function Ig(r,t){const i=t.query,o=cs(r,i);return{hashFn:()=>(VC(t)||Y.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?oS(r,i._path,o):sS(r,i._path);{const a=sE(l,i);return sl(r,i,null,a)}}}}function cs(r,t){const i=yl(t);return r.queryToTagMap.get(i)}function yl(r){return r._path.toString()+"$"+r._queryIdentifier}function Bc(r,t){return r.tagToQueryMap.get(t)}function Wc(r){const t=r.indexOf("$");return M(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new _e(r.substr(0,t))}}function Hc(r,t,i){const o=r.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const l=gl(r.pendingWriteTree_,t);return jc(o,i,l,null)}function aS(r){return r.fold((t,i,o)=>{if(i&&Bn(i))return[_l(i)];{let l=[];return i&&(l=yg(i)),Je(o,(a,d)=>{l=l.concat(d)}),l}})}function Ji(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(tS())(r._repo,r._path):r}function cS(r,t){for(let i=0;i<t.length;++i){const o=t[i];if(!o._queryParams.loadsAllData()){const l=yl(o),a=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(a)}}}function dS(){return nS++}function fS(r,t,i){const o=t._path,l=cs(r,t),a=Ig(r,i),d=r.listenProvider_.startListening(Ji(t),l,a.hashFn,a.onComplete),h=r.syncPointTree_.subtree(o);if(l)M(!Bn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,v,y)=>{if(!oe(g)&&v&&Bn(v))return[_l(v).query];{let C=[];return v&&(C=C.concat(yg(v).map(N=>N.query))),Je(y,(N,O)=>{C=C.concat(O)}),C}});for(let g=0;g<m.length;++g){const v=m[g];r.listenProvider_.stopListening(Ji(v),cs(r,v))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Vc(i)}node(){return this.node_}}class $c{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ae(this.path_,t);return new $c(this.syncTree_,i)}node(){return Uc(this.syncTree_,this.path_)}}const hS=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},qp=function(r,t,i){if(!r||typeof r!="object")return r;if(M(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return pS(r[".sv"],t,i);if(typeof r[".sv"]=="object")return mS(r[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},pS=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:M(!1,"Unexpected server value: "+r)}},mS=function(r,t,i){r.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const l=t.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},Tg=function(r,t,i,o){return Qc(t,new $c(i,r),o)},Ng=function(r,t,i){return Qc(r,new Vc(t),i)};function Qc(r,t,i){const o=r.getPriority().val(),l=qp(o,t.getImmediateChild(".priority"),i);let a;if(r.isLeafNode()){const d=r,h=qp(d.getValue(),t,i);return h!==d.getValue()||l!==d.getPriority().val()?new Qe(h,Ue(l)):r}else{const d=r;return a=d,l!==d.getPriority().val()&&(a=a.updatePriority(new Qe(l))),d.forEachChild(Me,(h,m)=>{const g=Qc(m,t.getImmediateChild(h),i);g!==m&&(a=a.updateImmediateChild(h,g))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t="",i=null,o={children:{},childCount:0}){this.name=t,this.parent=i,this.node=o}}function Kc(r,t){let i=t instanceof _e?t:new _e(t),o=r,l=re(i);for(;l!==null;){const a=Hr(o.node.children,l)||{children:{},childCount:0};o=new Gc(l,o,a),i=Ce(i),l=re(i)}return o}function ei(r){return r.node.value}function xg(r,t){r.node.value=t,ac(r)}function Rg(r){return r.node.childCount>0}function gS(r){return ei(r)===void 0&&!Rg(r)}function vl(r,t){Je(r.node.children,(i,o)=>{t(new Gc(i,r,o))})}function Pg(r,t,i,o){i&&t(r),vl(r,l=>{Pg(l,t,!0)})}function _S(r,t,i){let o=r.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Cs(r){return new _e(r.parent===null?r.name:Cs(r.parent)+"/"+r.name)}function ac(r){r.parent!==null&&yS(r.parent,r.name,r)}function yS(r,t,i){const o=gS(i),l=Yt(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,ac(r)):!o&&!l&&(r.node.children[t]=i.node,r.node.childCount++,ac(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=/[\[\].#$\/\u0000-\u001F\u007F]/,wS=/[\[\].#$\u0000-\u001F\u007F]/,Fa=10*1024*1024,qc=function(r){return typeof r=="string"&&r.length!==0&&!vS.test(r)},Dg=function(r){return typeof r=="string"&&r.length!==0&&!wS.test(r)},ES=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Dg(r)},CS=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Cc(r)||r&&typeof r=="object"&&Yt(r,".sv")},Og=function(r,t,i,o){o&&t===void 0||wl(fl(r,"value"),t,i)},wl=function(r,t,i){const o=i instanceof _e?new jE(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+rr(o));if(typeof t=="function")throw new Error(r+"contains a function "+rr(o)+" with contents = "+t.toString());if(Cc(t))throw new Error(r+"contains "+t.toString()+" "+rr(o));if(typeof t=="string"&&t.length>Fa/3&&hl(t)>Fa)throw new Error(r+"contains a string greater than "+Fa+" utf8 bytes "+rr(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,a=!1;if(Je(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(a=!0,!qc(d)))throw new Error(r+" contains an invalid key ("+d+") "+rr(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UE(o,d),wl(r,h,o),BE(o)}),l&&a)throw new Error(r+' contains ".value" child '+rr(o)+" in addition to actual children.")}},SS=function(r,t){let i,o;for(i=0;i<t.length;i++){o=t[i];const a=ss(o);for(let d=0;d<a.length;d++)if(!(a[d]===".priority"&&d===a.length-1)){if(!qc(a[d]))throw new Error(r+"contains an invalid key ("+a[d]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(zE);let l=null;for(i=0;i<t.length;i++){if(o=t[i],l!==null&&Pt(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},kS=function(r,t,i,o){const l=fl(r,"values");if(typeof t!="object"||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const a=[];Je(t,(d,h)=>{const m=new _e(d);if(wl(l,h,Ae(i,m)),Nc(m)===".priority"&&!CS(h))throw new Error(l+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),SS(l,a)},Ag=function(r,t,i,o){if(!Dg(i))throw new Error(fl(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IS=function(r,t,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ag(r,t,i)},Mg=function(r,t){if(re(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},TS=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ES(i))throw new Error(fl(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function El(r,t){let i=null;for(let o=0;o<t.length;o++){const l=t[o],a=l.getPath();i!==null&&!xc(a,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:a}),i.events.push(l)}i&&r.eventLists_.push(i)}function Lg(r,t,i){El(r,i),Fg(r,o=>xc(o,t))}function Dt(r,t,i){El(r,i),Fg(r,o=>Pt(o,t)||Pt(t,o))}function Fg(r,t){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];if(l){const a=l.path;t(a)?(xS(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function xS(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const o=i.getEventRunner();Ki&&Xe("event: "+i.toString()),Jr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="repo_interrupt",PS=25;class DS{constructor(t,i,o,l){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xo(),this.transactionQueueTree_=new Gc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OS(r,t,i){if(r.stats_=Ic(r.repoInfo_),r.forceRestClient_||aE())r.server_=new Yo(r.repoInfo_,(o,l,a,d)=>{Yp(r,o,l,a,d)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Xp(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new an(r.repoInfo_,t,(o,l,a,d)=>{Yp(r,o,l,a,d)},o=>{Xp(r,o)},o=>{AS(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=pE(r.repoInfo_,()=>new hC(r.stats_,r.server_)),r.infoData_=new uC,r.infoSyncTree_=new Kp({startListening:(o,l,a,d)=>{let h=[];const m=r.infoData_.getNode(o._path);return m.isEmpty()||(h=Es(r.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Yc(r,"connected",!1),r.serverSyncTree_=new Kp({startListening:(o,l,a,d)=>(r.server_.listen(o,a,l,(h,m)=>{const g=d(h,m);Dt(r.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}function bg(r){const i=r.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Cl(r){return hS({timestamp:bg(r)})}function Yp(r,t,i,o,l){r.dataUpdateCount++;const a=new _e(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let d=[];if(l)if(o){const m=Vo(i,g=>Ue(g));d=lS(r.serverSyncTree_,a,m,l)}else{const m=Ue(i);d=Cg(r.serverSyncTree_,a,m,l)}else if(o){const m=Vo(i,g=>Ue(g));d=iS(r.serverSyncTree_,a,m)}else{const m=Ue(i);d=Es(r.serverSyncTree_,a,m)}let h=a;d.length>0&&(h=Kr(r,a)),Dt(r.eventQueue_,h,d)}function Xp(r,t){Yc(r,"connected",t),t===!1&&bS(r)}function AS(r,t){Je(t,(i,o)=>{Yc(r,i,o)})}function Yc(r,t,i){const o=new _e("/.info/"+t),l=Ue(i);r.infoData_.updateSnapshot(o,l);const a=Es(r.infoSyncTree_,o,l);Dt(r.eventQueue_,o,a)}function Xc(r){return r.nextWriteId_++}function MS(r,t,i){const o=uS(r.serverSyncTree_,t);return o!=null?Promise.resolve(o):r.server_.get(t).then(l=>{const a=Ue(l).withIndex(t._queryParams.getIndex());uc(r.serverSyncTree_,t,i,!0);let d;if(t._queryParams.loadsAllData())d=Es(r.serverSyncTree_,t._path,a);else{const h=cs(r.serverSyncTree_,t);d=Cg(r.serverSyncTree_,t._path,a,h)}return Dt(r.eventQueue_,t._path,d),sl(r.serverSyncTree_,t,i,null,!0),a},l=>(Ss(r,"get for query "+Be(t)+" failed: "+l),Promise.reject(new Error(l))))}function LS(r,t,i,o,l){Ss(r,"set",{path:t.toString(),value:i,priority:o});const a=Cl(r),d=Ue(i,o),h=Uc(r.serverSyncTree_,t),m=Ng(d,h,a),g=Xc(r),v=Eg(r.serverSyncTree_,t,m,g,!0);El(r.eventQueue_,v),r.server_.put(t.toString(),d.val(!0),(C,N)=>{const O=C==="ok";O||ot("set at "+t+" failed: "+C);const L=Mn(r.serverSyncTree_,g,!O);Dt(r.eventQueue_,t,L),cc(r,l,C,N)});const y=Zc(r,t);Kr(r,y),Dt(r.eventQueue_,y,[])}function FS(r,t,i,o){Ss(r,"update",{path:t.toString(),value:i});let l=!0;const a=Cl(r),d={};if(Je(i,(h,m)=>{l=!1,d[h]=Tg(Ae(t,h),Ue(m),r.serverSyncTree_,a)}),l)Xe("update() called with empty data.  Don't do anything."),cc(r,o,"ok",void 0);else{const h=Xc(r),m=rS(r.serverSyncTree_,t,d,h);El(r.eventQueue_,m),r.server_.merge(t.toString(),i,(g,v)=>{const y=g==="ok";y||ot("update at "+t+" failed: "+g);const C=Mn(r.serverSyncTree_,h,!y),N=C.length>0?Kr(r,t):t;Dt(r.eventQueue_,N,C),cc(r,o,g,v)}),Je(i,g=>{const v=Zc(r,Ae(t,g));Kr(r,v)}),Dt(r.eventQueue_,t,[])}}function bS(r){Ss(r,"onDisconnectEvents");const t=Cl(r),i=Xo();nc(r.onDisconnect_,pe(),(l,a)=>{const d=Tg(l,a,r.serverSyncTree_,t);og(i,l,d)});let o=[];nc(i,pe(),(l,a)=>{o=o.concat(Es(r.serverSyncTree_,l,a));const d=Zc(r,l);Kr(r,d)}),r.onDisconnect_=Xo(),Dt(r.eventQueue_,pe(),o)}function zS(r,t,i){let o;re(t._path)===".info"?o=uc(r.infoSyncTree_,t,i):o=uc(r.serverSyncTree_,t,i),Lg(r.eventQueue_,t._path,o)}function jS(r,t,i){let o;re(t._path)===".info"?o=sl(r.infoSyncTree_,t,i):o=sl(r.serverSyncTree_,t,i),Lg(r.eventQueue_,t._path,o)}function US(r){r.persistentConnection_&&r.persistentConnection_.interrupt(RS)}function Ss(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Xe(i,...t)}function cc(r,t,i,o){t&&Jr(()=>{if(i==="ok")t(null);else{const l=(i||"error").toUpperCase();let a=l;o&&(a+=": "+o);const d=new Error(a);d.code=l,t(d)}})}function zg(r,t,i){return Uc(r.serverSyncTree_,t,i)||Y.EMPTY_NODE}function Jc(r,t=r.transactionQueueTree_){if(t||Sl(r,t),ei(t)){const i=Ug(r,t);M(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&BS(r,Cs(t),i)}else Rg(t)&&vl(t,i=>{Jc(r,i)})}function BS(r,t,i){const o=i.map(g=>g.currentWriteId),l=zg(r,t,o);let a=l;const d=l.hash();for(let g=0;g<i.length;g++){const v=i[g];M(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=st(t,v.path);a=a.updateChild(y,v.currentOutputSnapshotRaw)}const h=a.val(!0),m=t;r.server_.put(m.toString(),h,g=>{Ss(r,"transaction put response",{path:m.toString(),status:g});let v=[];if(g==="ok"){const y=[];for(let C=0;C<i.length;C++)i[C].status=2,v=v.concat(Mn(r.serverSyncTree_,i[C].currentWriteId)),i[C].onComplete&&y.push(()=>i[C].onComplete(null,!0,i[C].currentOutputSnapshotResolved)),i[C].unwatcher();Sl(r,Kc(r.transactionQueueTree_,t)),Jc(r,r.transactionQueueTree_),Dt(r.eventQueue_,t,v);for(let C=0;C<y.length;C++)Jr(y[C])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{ot("transaction at "+m.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}Kr(r,t)}},d)}function Kr(r,t){const i=jg(r,t),o=Cs(i),l=Ug(r,i);return WS(r,l,o),o}function WS(r,t,i){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],g=st(i,m.path);let v=!1,y;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,l=l.concat(Mn(r.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=PS)v=!0,y="maxretry",l=l.concat(Mn(r.serverSyncTree_,m.currentWriteId,!0));else{const C=zg(r,m.path,d);m.currentInputSnapshot=C;const N=t[h].update(C.val());if(N!==void 0){wl("transaction failed: Data returned ",N,m.path);let O=Ue(N);typeof N=="object"&&N!=null&&Yt(N,".priority")||(O=O.updatePriority(C.getPriority()));const F=m.currentWriteId,ee=Cl(r),Z=Ng(O,C,ee);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=Z,m.currentWriteId=Xc(r),d.splice(d.indexOf(F),1),l=l.concat(Eg(r.serverSyncTree_,m.path,Z,m.currentWriteId,m.applyLocally)),l=l.concat(Mn(r.serverSyncTree_,F,!0))}else v=!0,y="nodata",l=l.concat(Mn(r.serverSyncTree_,m.currentWriteId,!0))}Dt(r.eventQueue_,i,l),l=[],v&&(t[h].status=2,function(C){setTimeout(C,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(y),!1,null))))}Sl(r,r.transactionQueueTree_);for(let h=0;h<o.length;h++)Jr(o[h]);Jc(r,r.transactionQueueTree_)}function jg(r,t){let i,o=r.transactionQueueTree_;for(i=re(t);i!==null&&ei(o)===void 0;)o=Kc(o,i),t=Ce(t),i=re(t);return o}function Ug(r,t){const i=[];return Bg(r,t,i),i.sort((o,l)=>o.order-l.order),i}function Bg(r,t,i){const o=ei(t);if(o)for(let l=0;l<o.length;l++)i.push(o[l]);vl(t,l=>{Bg(r,l,i)})}function Sl(r,t){const i=ei(t);if(i){let o=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[o]=i[l],o++);i.length=o,xg(t,i.length>0?i:void 0)}vl(t,o=>{Sl(r,o)})}function Zc(r,t){const i=Cs(jg(r,t)),o=Kc(r.transactionQueueTree_,t);return _S(o,l=>{ba(r,l)}),ba(r,o),Pg(o,l=>{ba(r,l)}),i}function ba(r,t){const i=ei(t);if(i){const o=[];let l=[],a=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(M(a===d-1,"All SENT items should be at beginning of queue."),a=d,i[d].status=3,i[d].abortReason="set"):(M(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),l=l.concat(Mn(r.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&o.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));a===-1?xg(t,void 0):i.length=a+1,Dt(r.eventQueue_,Cs(t),l);for(let d=0;d<o.length;d++)Jr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){let t="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let l=i[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function VS(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ot(`Invalid query segment '${i}' in query '${r}'`)}return t}const Jp=function(r,t){const i=$S(r),o=i.namespace;i.domain==="firebase.com"&&fn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||eE();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hm(i.host,i.secure,o,l,t,"",o!==i.subdomain),path:new _e(i.pathString)}},$S=function(r){let t="",i="",o="",l="",a="",d=!0,h="https",m=443;if(typeof r=="string"){let g=r.indexOf("//");g>=0&&(h=r.substring(0,g-1),r=r.substring(g+2));let v=r.indexOf("/");v===-1&&(v=r.length);let y=r.indexOf("?");y===-1&&(y=r.length),t=r.substring(0,Math.min(v,y)),v<y&&(l=HS(r.substring(v,y)));const C=VS(r.substring(Math.min(r.length,y)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const N=t.slice(0,g);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),i=t.substring(O+1),a=o}"ns"in C&&(a=C.ns)}return{host:t,port:m,domain:i,subdomain:o,secure:d,scheme:h,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QS=function(){let r=0;const t=[];return function(i){const o=i===r;r=i;let l;const a=new Array(8);for(l=7;l>=0;l--)a[l]=Zp.charAt(i%64),i=Math.floor(i/64);M(i===0,"Cannot push at time == 0");let d=a.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=Zp.charAt(t[l]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,i,o,l){this.eventType=t,this.eventRegistration=i,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class KS{constructor(t,i,o){this.eventRegistration=t,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,i,o,l){this._repo=t,this._path=i,this._queryParams=o,this._orderByCalled=l}get key(){return oe(this._path)?null:Nc(this._path)}get ref(){return new pn(this._repo,this._path)}get _queryIdentifier(){const t=zp(this._queryParams),i=Sc(t);return i==="{}"?"default":i}get _queryObject(){return zp(this._queryParams)}isEqual(t){if(t=dr(t),!(t instanceof ed))return!1;const i=this._repo===t._repo,o=xc(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return i&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+bE(this._path)}}class pn extends ed{constructor(t,i){super(t,i,new Oc,!1)}get parent(){const t=Jm(this._path);return t===null?null:new pn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ds{constructor(t,i,o){this._node=t,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new _e(t),o=qr(this.ref,t);return new ds(this._node.getChild(i),o,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new ds(l,qr(this.ref,o),Me)))}hasChild(t){const i=new _e(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fs(r,t){return r=dr(r),r._checkNotDeleted("ref"),t!==void 0?qr(r._root,t):r._root}function qr(r,t){return r=dr(r),re(r._path)===null?IS("child","path",t):Ag("child","path",t),new pn(r._repo,Ae(r._path,t))}function qS(r,t){r=dr(r),Mg("push",r._path),Og("push",t,r._path,!0);const i=bg(r._repo),o=QS(i),l=qr(r,o),a=qr(r,o);let d;return t!=null?d=dc(a,t).then(()=>a):d=Promise.resolve(a),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function dc(r,t){r=dr(r),Mg("set",r._path),Og("set",t,r._path,!1);const i=new gs;return LS(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}function YS(r,t){kS("update",t,r._path);const i=new gs;return FS(r._repo,r._path,t,i.wrapCallback(()=>{})),i.promise}function XS(r){r=dr(r);const t=new Wg(()=>{}),i=new kl(t);return MS(r._repo,r,i).then(o=>new ds(o,new pn(r._repo,r._path),r._queryParams.getIndex()))}class kl{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const o=i._queryParams.getIndex();return new GS("value",this,new ds(t.snapshotNode,new pn(i._repo,i._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new KS(this,t,i):null}matches(t){return t instanceof kl?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function JS(r,t,i,o,l){const a=new Wg(i,void 0),d=new kl(a);return zS(r._repo,r,d),()=>jS(r._repo,r,d)}function ZS(r,t,i,o){return JS(r,"value",t)}qC(pn);eS(pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="FIREBASE_DATABASE_EMULATOR_HOST",fc={};let t0=!1;function n0(r,t,i,o){r.repoInfo_=new Hm(`${t}:${i}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}function r0(r,t,i,o,l){let a=o||r.options.databaseURL;a===void 0&&(r.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",r.options.projectId),a=`${r.options.projectId}-default-rtdb.firebaseio.com`);let d=Jp(a,l),h=d.repoInfo,m;typeof process<"u"&&wp&&(m=wp[e0]),m?(a=`http://${m}?ns=${h.namespace}`,d=Jp(a,l),h=d.repoInfo):d.repoInfo.secure;const g=new dE(r.name,r.options,t);TS("Invalid Firebase Database URL",d),oe(d.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=s0(h,r,g,new cE(r.name,i));return new o0(v,r)}function i0(r,t){const i=fc[t];(!i||i[r.key]!==r)&&fn(`Database ${t}(${r.repoInfo_}) has already been deleted.`),US(r),delete i[r.key]}function s0(r,t,i,o){let l=fc[t.name];l||(l={},fc[t.name]=l);let a=l[r.toURLString()];return a&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new DS(r,t0,i,o),l[r.toURLString()]=a,a}class o0{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fn("Cannot call "+t+" on a deleted database.")}}function l0(r=zw(),t){const i=Mw(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const o=Sv("database");o&&u0(i,...o)}return i}function u0(r,t,i,o={}){r=dr(r),r._checkNotDeleted("useEmulator"),r._instanceStarted&&fn("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let a;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Uo(Uo.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:kv(o.mockUserToken,r.app.options.projectId);a=new Uo(d)}n0(l,t,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){Kw(bw),Qo(new ns("database",(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return r0(o,l,a,i)},"PUBLIC").setMultipleInstances(!0)),Ur(Ep,Cp,r),Ur(Ep,Cp,"esm2017")}an.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};an.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};a0();var c0="firebase",d0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(c0,d0,"app");const f0={apiKey:"AIzaSyC6doZsECRG97D44gM3LEpwQFiI_d0-4nw",authDomain:"diri-sesion6.firebaseapp.com",databaseURL:"https://diri-sesion6-default-rtdb.firebaseio.com",projectId:"diri-sesion6",storageBucket:"diri-sesion6.firebasestorage.app",messagingSenderId:"313362529882",appId:"1:313362529882:web:8ce497270792a5b2f02263",measurementId:"G-QGMHGGY3FF"},h0=Tm(f0),hs=l0(h0);class p0{constructor(){Ui(this,"levels");Ui(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no vlido: ${t}`)}log(t,i){const o=this.levels.indexOf(t),l=this.levels.indexOf(this.currentLevel);if(o>=l){const a=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${a}: ${i}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}}const un=new p0;var za={exports:{}},ja={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function m0(){if(em)return ja;em=1;var r=dl();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:t,o=r.useSyncExternalStore,l=r.useRef,a=r.useEffect,d=r.useMemo,h=r.useDebugValue;return ja.useSyncExternalStoreWithSelector=function(m,g,v,y,C){var N=l(null);if(N.current===null){var O={hasValue:!1,value:null};N.current=O}else O=N.current;N=d(function(){function F(X){if(!ee){if(ee=!0,Z=X,X=y(X),C!==void 0&&O.hasValue){var K=O.value;if(C(K,X))return le=K}return le=X}if(K=le,i(Z,X))return K;var ue=y(X);return C!==void 0&&C(K,ue)?(Z=X,K):(Z=X,le=ue)}var ee=!1,Z,le,$=v===void 0?null:v;return[function(){return F(g())},$===null?void 0:function(){return F($())}]},[g,v,y,C]);var L=o(m,N[0],N[1]);return a(function(){O.hasValue=!0,O.value=L},[L]),h(L),L},ja}var tm;function g0(){return tm||(tm=1,za.exports=m0()),za.exports}var _0=g0();function y0(r){r()}function v0(){let r=null,t=null;return{clear(){r=null,t=null},notify(){y0(()=>{let i=r;for(;i;)i.callback(),i=i.next})},get(){const i=[];let o=r;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0;const l=t={callback:i,next:null,prev:t};return l.prev?l.prev.next=l:r=l,function(){!o||r===null||(o=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:r=l.next)}}}}var nm={notify(){},get:()=>[]};function w0(r,t){let i,o=nm,l=0,a=!1;function d(L){v();const F=o.subscribe(L);let ee=!1;return()=>{ee||(ee=!0,F(),y())}}function h(){o.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return a}function v(){l++,i||(i=r.subscribe(m),o=v0())}function y(){l--,i&&l===0&&(i(),i=void 0,o.clear(),o=nm)}function C(){a||(a=!0,v())}function N(){a&&(a=!1,y())}const O={addNestedSub:d,notifyNestedSubs:h,handleChangeWrapper:m,isSubscribed:g,trySubscribe:C,tryUnsubscribe:N,getListeners:()=>o};return O}var E0=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C0=E0(),S0=()=>typeof navigator<"u"&&navigator.product==="ReactNative",k0=S0(),I0=()=>C0||k0?Te.useLayoutEffect:Te.useEffect,T0=I0(),Ua=Symbol.for("react-redux-context"),Ba=typeof globalThis<"u"?globalThis:{};function N0(){if(!Te.createContext)return{};const r=Ba[Ua]??(Ba[Ua]=new Map);let t=r.get(Te.createContext);return t||(t=Te.createContext(null),r.set(Te.createContext,t)),t}var Wn=N0();function x0(r){const{children:t,context:i,serverState:o,store:l}=r,a=Te.useMemo(()=>{const m=w0(l);return{store:l,subscription:m,getServerState:o?()=>o:void 0}},[l,o]),d=Te.useMemo(()=>l.getState(),[l]);T0(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,d]);const h=i||Wn;return Te.createElement(h.Provider,{value:a},t)}var R0=x0;function td(r=Wn){return function(){return Te.useContext(r)}}var Hg=td();function Vg(r=Wn){const t=r===Wn?Hg:td(r),i=()=>{const{store:o}=t();return o};return Object.assign(i,{withTypes:()=>i}),i}var P0=Vg();function D0(r=Wn){const t=r===Wn?P0:Vg(r),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var $g=D0(),O0=(r,t)=>r===t;function A0(r=Wn){const t=r===Wn?Hg:td(r),i=(o,l={})=>{const{equalityFn:a=O0}=typeof l=="function"?{equalityFn:l}:l,d=t(),{store:h,subscription:m,getServerState:g}=d;Te.useRef(!0);const v=Te.useCallback({[o.name](C){return o(C)}}[o.name],[o]),y=_0.useSyncExternalStoreWithSelector(m.addNestedSub,h.getState,g||h.getState,v,a);return Te.useDebugValue(y),y};return Object.assign(i,{withTypes:()=>i}),i}var Zi=A0();function Ye(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var M0=typeof Symbol=="function"&&Symbol.observable||"@@observable",rm=M0,Wa=()=>Math.random().toString(36).substring(7).split("").join("."),L0={INIT:`@@redux/INIT${Wa()}`,REPLACE:`@@redux/REPLACE${Wa()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wa()}`},ol=L0;function nd(r){if(typeof r!="object"||r===null)return!1;let t=r;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t||Object.getPrototypeOf(r)===null}function Qg(r,t,i){if(typeof r!="function")throw new Error(Ye(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Ye(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Ye(1));return i(Qg)(r,t)}let o=r,l=t,a=new Map,d=a,h=0,m=!1;function g(){d===a&&(d=new Map,a.forEach((F,ee)=>{d.set(ee,F)}))}function v(){if(m)throw new Error(Ye(3));return l}function y(F){if(typeof F!="function")throw new Error(Ye(4));if(m)throw new Error(Ye(5));let ee=!0;g();const Z=h++;return d.set(Z,F),function(){if(ee){if(m)throw new Error(Ye(6));ee=!1,g(),d.delete(Z),a=null}}}function C(F){if(!nd(F))throw new Error(Ye(7));if(typeof F.type>"u")throw new Error(Ye(8));if(typeof F.type!="string")throw new Error(Ye(17));if(m)throw new Error(Ye(9));try{m=!0,l=o(l,F)}finally{m=!1}return(a=d).forEach(Z=>{Z()}),F}function N(F){if(typeof F!="function")throw new Error(Ye(10));o=F,C({type:ol.REPLACE})}function O(){const F=y;return{subscribe(ee){if(typeof ee!="object"||ee===null)throw new Error(Ye(11));function Z(){const $=ee;$.next&&$.next(v())}return Z(),{unsubscribe:F(Z)}},[rm](){return this}}}return C({type:ol.INIT}),{dispatch:C,subscribe:y,getState:v,replaceReducer:N,[rm]:O}}function F0(r){Object.keys(r).forEach(t=>{const i=r[t];if(typeof i(void 0,{type:ol.INIT})>"u")throw new Error(Ye(12));if(typeof i(void 0,{type:ol.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ye(13))})}function b0(r){const t=Object.keys(r),i={};for(let a=0;a<t.length;a++){const d=t[a];typeof r[d]=="function"&&(i[d]=r[d])}const o=Object.keys(i);let l;try{F0(i)}catch(a){l=a}return function(d={},h){if(l)throw l;let m=!1;const g={};for(let v=0;v<o.length;v++){const y=o[v],C=i[y],N=d[y],O=C(N,h);if(typeof O>"u")throw h&&h.type,new Error(Ye(14));g[y]=O,m=m||O!==N}return m=m||o.length!==Object.keys(d).length,m?g:d}}function ll(...r){return r.length===0?t=>t:r.length===1?r[0]:r.reduce((t,i)=>(...o)=>t(i(...o)))}function z0(...r){return t=>(i,o)=>{const l=t(i,o);let a=()=>{throw new Error(Ye(15))};const d={getState:l.getState,dispatch:(m,...g)=>a(m,...g)},h=r.map(m=>m(d));return a=ll(...h)(l.dispatch),{...l,dispatch:a}}}function j0(r){return nd(r)&&"type"in r&&typeof r.type=="string"}var Gg=Symbol.for("immer-nothing"),im=Symbol.for("immer-draftable"),Et=Symbol.for("immer-state");function Ut(r,...t){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Yr=Object.getPrototypeOf;function ar(r){return!!r&&!!r[Et]}function hn(r){var t;return r?Kg(r)||Array.isArray(r)||!!r[im]||!!((t=r.constructor)!=null&&t[im])||Tl(r)||Nl(r):!1}var U0=Object.prototype.constructor.toString();function Kg(r){if(!r||typeof r!="object")return!1;const t=Yr(r);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===U0}function ul(r,t){Il(r)===0?Reflect.ownKeys(r).forEach(i=>{t(i,r[i],r)}):r.forEach((i,o)=>t(o,i,r))}function Il(r){const t=r[Et];return t?t.type_:Array.isArray(r)?1:Tl(r)?2:Nl(r)?3:0}function hc(r,t){return Il(r)===2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)}function qg(r,t,i){const o=Il(r);o===2?r.set(t,i):o===3?r.add(i):r[t]=i}function B0(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t}function Tl(r){return r instanceof Map}function Nl(r){return r instanceof Set}function ir(r){return r.copy_||r.base_}function pc(r,t){if(Tl(r))return new Map(r);if(Nl(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const i=Kg(r);if(t===!0||t==="class_only"&&!i){const o=Object.getOwnPropertyDescriptors(r);delete o[Et];let l=Reflect.ownKeys(o);for(let a=0;a<l.length;a++){const d=l[a],h=o[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(o[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:r[d]})}return Object.create(Yr(r),o)}else{const o=Yr(r);if(o!==null&&i)return{...r};const l=Object.create(o);return Object.assign(l,r)}}function rd(r,t=!1){return xl(r)||ar(r)||!hn(r)||(Il(r)>1&&(r.set=r.add=r.clear=r.delete=W0),Object.freeze(r),t&&Object.entries(r).forEach(([i,o])=>rd(o,!0))),r}function W0(){Ut(2)}function xl(r){return Object.isFrozen(r)}var H0={};function cr(r){const t=H0[r];return t||Ut(0,r),t}var ps;function Yg(){return ps}function V0(r,t){return{drafts_:[],parent_:r,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sm(r,t){t&&(cr("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=t)}function mc(r){gc(r),r.drafts_.forEach($0),r.drafts_=null}function gc(r){r===ps&&(ps=r.parent_)}function om(r){return ps=V0(ps,r)}function $0(r){const t=r[Et];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lm(r,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return r!==void 0&&r!==i?(i[Et].modified_&&(mc(t),Ut(4)),hn(r)&&(r=al(t,r),t.parent_||cl(t,r)),t.patches_&&cr("Patches").generateReplacementPatches_(i[Et].base_,r,t.patches_,t.inversePatches_)):r=al(t,i,[]),mc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),r!==Gg?r:void 0}function al(r,t,i){if(xl(t))return t;const o=t[Et];if(!o)return ul(t,(l,a)=>um(r,o,t,l,a,i)),t;if(o.scope_!==r)return t;if(!o.modified_)return cl(r,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let a=l,d=!1;o.type_===3&&(a=new Set(l),l.clear(),d=!0),ul(a,(h,m)=>um(r,o,l,h,m,i,d)),cl(r,l,!1),i&&r.patches_&&cr("Patches").generatePatches_(o,i,r.patches_,r.inversePatches_)}return o.copy_}function um(r,t,i,o,l,a,d){if(ar(l)){const h=a&&t&&t.type_!==3&&!hc(t.assigned_,o)?a.concat(o):void 0,m=al(r,l,h);if(qg(i,o,m),ar(m))r.canAutoFreeze_=!1;else return}else d&&i.add(l);if(hn(l)&&!xl(l)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;al(r,l),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,o)&&cl(r,l)}}function cl(r,t,i=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&rd(t,i)}function Q0(r,t){const i=Array.isArray(r),o={type_:i?1:0,scope_:t?t.scope_:Yg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=o,a=id;i&&(l=[o],a=ms);const{revoke:d,proxy:h}=Proxy.revocable(l,a);return o.draft_=h,o.revoke_=d,h}var id={get(r,t){if(t===Et)return r;const i=ir(r);if(!hc(i,t))return G0(r,i,t);const o=i[t];return r.finalized_||!hn(o)?o:o===Ha(r.base_,t)?(Va(r),r.copy_[t]=yc(o,r)):o},has(r,t){return t in ir(r)},ownKeys(r){return Reflect.ownKeys(ir(r))},set(r,t,i){const o=Xg(ir(r),t);if(o!=null&&o.set)return o.set.call(r.draft_,i),!0;if(!r.modified_){const l=Ha(ir(r),t),a=l==null?void 0:l[Et];if(a&&a.base_===i)return r.copy_[t]=i,r.assigned_[t]=!1,!0;if(B0(i,l)&&(i!==void 0||hc(r.base_,t)))return!0;Va(r),_c(r)}return r.copy_[t]===i&&(i!==void 0||t in r.copy_)||Number.isNaN(i)&&Number.isNaN(r.copy_[t])||(r.copy_[t]=i,r.assigned_[t]=!0),!0},deleteProperty(r,t){return Ha(r.base_,t)!==void 0||t in r.base_?(r.assigned_[t]=!1,Va(r),_c(r)):delete r.assigned_[t],r.copy_&&delete r.copy_[t],!0},getOwnPropertyDescriptor(r,t){const i=ir(r),o=Reflect.getOwnPropertyDescriptor(i,t);return o&&{writable:!0,configurable:r.type_!==1||t!=="length",enumerable:o.enumerable,value:i[t]}},defineProperty(){Ut(11)},getPrototypeOf(r){return Yr(r.base_)},setPrototypeOf(){Ut(12)}},ms={};ul(id,(r,t)=>{ms[r]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ms.deleteProperty=function(r,t){return ms.set.call(this,r,t,void 0)};ms.set=function(r,t,i){return id.set.call(this,r[0],t,i,r[0])};function Ha(r,t){const i=r[Et];return(i?ir(i):r)[t]}function G0(r,t,i){var l;const o=Xg(t,i);return o?"value"in o?o.value:(l=o.get)==null?void 0:l.call(r.draft_):void 0}function Xg(r,t){if(!(t in r))return;let i=Yr(r);for(;i;){const o=Object.getOwnPropertyDescriptor(i,t);if(o)return o;i=Yr(i)}}function _c(r){r.modified_||(r.modified_=!0,r.parent_&&_c(r.parent_))}function Va(r){r.copy_||(r.copy_=pc(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var K0=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,o)=>{if(typeof t=="function"&&typeof i!="function"){const a=i;i=t;const d=this;return function(m=a,...g){return d.produce(m,v=>i.call(this,v,...g))}}typeof i!="function"&&Ut(6),o!==void 0&&typeof o!="function"&&Ut(7);let l;if(hn(t)){const a=om(this),d=yc(t,void 0);let h=!0;try{l=i(d),h=!1}finally{h?mc(a):gc(a)}return sm(a,o),lm(l,a)}else if(!t||typeof t!="object"){if(l=i(t),l===void 0&&(l=t),l===Gg&&(l=void 0),this.autoFreeze_&&rd(l,!0),o){const a=[],d=[];cr("Patches").generateReplacementPatches_(t,l,a,d),o(a,d)}return l}else Ut(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(d,...h)=>this.produceWithPatches(d,m=>t(m,...h));let o,l;return[this.produce(t,i,(d,h)=>{o=d,l=h}),o,l]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){hn(r)||Ut(8),ar(r)&&(r=q0(r));const t=om(this),i=yc(r,void 0);return i[Et].isManual_=!0,gc(t),i}finishDraft(r,t){const i=r&&r[Et];(!i||!i.isManual_)&&Ut(9);const{scope_:o}=i;return sm(o,t),lm(void 0,o)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,t){let i;for(i=t.length-1;i>=0;i--){const l=t[i];if(l.path.length===0&&l.op==="replace"){r=l.value;break}}i>-1&&(t=t.slice(i+1));const o=cr("Patches").applyPatches_;return ar(r)?o(r,t):this.produce(r,l=>o(l,t))}};function yc(r,t){const i=Tl(r)?cr("MapSet").proxyMap_(r,t):Nl(r)?cr("MapSet").proxySet_(r,t):Q0(r,t);return(t?t.scope_:Yg()).drafts_.push(i),i}function q0(r){return ar(r)||Ut(10,r),Jg(r)}function Jg(r){if(!hn(r)||xl(r))return r;const t=r[Et];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=pc(r,t.scope_.immer_.useStrictShallowCopy_)}else i=pc(r,!0);return ul(i,(o,l)=>{qg(i,o,Jg(l))}),t&&(t.finalized_=!1),i}var Ct=new K0,Zg=Ct.produce;Ct.produceWithPatches.bind(Ct);Ct.setAutoFreeze.bind(Ct);Ct.setUseStrictShallowCopy.bind(Ct);Ct.applyPatches.bind(Ct);Ct.createDraft.bind(Ct);Ct.finishDraft.bind(Ct);function e_(r){return({dispatch:i,getState:o})=>l=>a=>typeof a=="function"?a(i,o,r):l(a)}var Y0=e_(),X0=e_,J0=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ll:ll.apply(null,arguments)},Z0=r=>r&&typeof r.match=="function";function es(r,t){function i(...o){if(t){let l=t(...o);if(!l)throw new Error(cn(0));return{type:r,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:r,payload:o[0]}}return i.toString=()=>`${r}`,i.type=r,i.match=o=>j0(o)&&o.type===r,i}var t_=class Gi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gi.prototype)}static get[Symbol.species](){return Gi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gi(...t[0].concat(this)):new Gi(...t.concat(this))}};function am(r){return hn(r)?Zg(r,()=>{}):r}function zo(r,t,i){return r.has(t)?r.get(t):r.set(t,i(t)).get(t)}function e1(r){return typeof r=="boolean"}var t1=()=>function(t){const{thunk:i=!0,immutableCheck:o=!0,serializableCheck:l=!0,actionCreatorCheck:a=!0}=t??{};let d=new t_;return i&&(e1(i)?d.push(Y0):d.push(X0(i.extraArgument))),d},n1="RTK_autoBatch",cm=r=>t=>{setTimeout(t,r)},r1=(r={type:"raf"})=>t=>(...i)=>{const o=t(...i);let l=!0,a=!1,d=!1;const h=new Set,m=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cm(10):r.type==="callback"?r.queueNotification:cm(r.timeout),g=()=>{d=!1,a&&(a=!1,h.forEach(v=>v()))};return Object.assign({},o,{subscribe(v){const y=()=>l&&v(),C=o.subscribe(y);return h.add(v),()=>{C(),h.delete(v)}},dispatch(v){var y;try{return l=!((y=v==null?void 0:v.meta)!=null&&y[n1]),a=!l,a&&(d||(d=!0,m(g))),o.dispatch(v)}finally{l=!0}}})},i1=r=>function(i){const{autoBatch:o=!0}=i??{};let l=new t_(r);return o&&l.push(r1(typeof o=="object"?o:void 0)),l};function s1(r){const t=t1(),{reducer:i=void 0,middleware:o,devTools:l=!0,duplicateMiddlewareCheck:a=!0,preloadedState:d=void 0,enhancers:h=void 0}=r;let m;if(typeof i=="function")m=i;else if(nd(i))m=b0(i);else throw new Error(cn(1));let g;typeof o=="function"?g=o(t):g=t();let v=ll;l&&(v=J0({trace:!1,...typeof l=="object"&&l}));const y=z0(...g),C=i1(y);let N=typeof h=="function"?h(C):C();const O=v(...N);return Qg(m,d,O)}function n_(r){const t={},i=[];let o;const l={addCase(a,d){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(cn(28));if(h in t)throw new Error(cn(29));return t[h]=d,l},addMatcher(a,d){return i.push({matcher:a,reducer:d}),l},addDefaultCase(a){return o=a,l}};return r(l),[t,i,o]}function o1(r){return typeof r=="function"}function l1(r,t){let[i,o,l]=n_(t),a;if(o1(r))a=()=>am(r());else{const h=am(r);a=()=>h}function d(h=a(),m){let g=[i[m.type],...o.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[l]),g.reduce((v,y)=>{if(y)if(ar(v)){const N=y(v,m);return N===void 0?v:N}else{if(hn(v))return Zg(v,C=>y(C,m));{const C=y(v,m);if(C===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return C}}return v},h)}return d.getInitialState=a,d}var u1=(r,t)=>Z0(r)?r.match(t):r(t);function a1(...r){return t=>r.some(i=>u1(i,t))}var c1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d1=(r=21)=>{let t="",i=r;for(;i--;)t+=c1[Math.random()*64|0];return t},f1=["name","message","stack","code"],$a=class{constructor(r,t){Ui(this,"_type");this.payload=r,this.meta=t}},dm=class{constructor(r,t){Ui(this,"_type");this.payload=r,this.meta=t}},h1=r=>{if(typeof r=="object"&&r!==null){const t={};for(const i of f1)typeof r[i]=="string"&&(t[i]=r[i]);return t}return{message:String(r)}},fm="External signal was aborted",r_=(()=>{function r(t,i,o){const l=es(t+"/fulfilled",(m,g,v,y)=>({payload:m,meta:{...y||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),a=es(t+"/pending",(m,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:m,requestStatus:"pending"}})),d=es(t+"/rejected",(m,g,v,y,C)=>({payload:y,error:(o&&o.serializeError||h1)(m||"Rejected"),meta:{...C||{},arg:v,requestId:g,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function h(m,{signal:g}={}){return(v,y,C)=>{const N=o!=null&&o.idGenerator?o.idGenerator(m):d1(),O=new AbortController;let L,F;function ee(le){F=le,O.abort()}g&&(g.aborted?ee(fm):g.addEventListener("abort",()=>ee(fm),{once:!0}));const Z=async function(){var X,K;let le;try{let ue=(X=o==null?void 0:o.condition)==null?void 0:X.call(o,m,{getState:y,extra:C});if(m1(ue)&&(ue=await ue),ue===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Se=new Promise((ae,We)=>{L=()=>{We({name:"AbortError",message:F||"Aborted"})},O.signal.addEventListener("abort",L)});v(a(N,m,(K=o==null?void 0:o.getPendingMeta)==null?void 0:K.call(o,{requestId:N,arg:m},{getState:y,extra:C}))),le=await Promise.race([Se,Promise.resolve(i(m,{dispatch:v,getState:y,extra:C,requestId:N,signal:O.signal,abort:ee,rejectWithValue:(ae,We)=>new $a(ae,We),fulfillWithValue:(ae,We)=>new dm(ae,We)})).then(ae=>{if(ae instanceof $a)throw ae;return ae instanceof dm?l(ae.payload,N,m,ae.meta):l(ae,N,m)})])}catch(ue){le=ue instanceof $a?d(null,N,m,ue.payload,ue.meta):d(ue,N,m)}finally{L&&O.signal.removeEventListener("abort",L)}return o&&!o.dispatchConditionRejection&&d.match(le)&&le.meta.condition||v(le),le}();return Object.assign(Z,{abort:ee,requestId:N,arg:m,unwrap(){return Z.then(p1)}})}}return Object.assign(h,{pending:a,rejected:d,fulfilled:l,settled:a1(d,l),typePrefix:t})}return r.withTypes=()=>r,r})();function p1(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function m1(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var g1=Symbol.for("rtk-slice-createasyncthunk");function _1(r,t){return`${r}/${t}`}function y1({creators:r}={}){var i;const t=(i=r==null?void 0:r.asyncThunk)==null?void 0:i[g1];return function(l){const{name:a,reducerPath:d=a}=l;if(!a)throw new Error(cn(11));const h=(typeof l.reducers=="function"?l.reducers(w1()):l.reducers)||{},m=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase($,X){const K=typeof $=="string"?$:$.type;if(!K)throw new Error(cn(12));if(K in g.sliceCaseReducersByType)throw new Error(cn(13));return g.sliceCaseReducersByType[K]=X,v},addMatcher($,X){return g.sliceMatchers.push({matcher:$,reducer:X}),v},exposeAction($,X){return g.actionCreators[$]=X,v},exposeCaseReducer($,X){return g.sliceCaseReducersByName[$]=X,v}};m.forEach($=>{const X=h[$],K={reducerName:$,type:_1(a,$),createNotation:typeof l.reducers=="function"};C1(X)?k1(K,X,v,t):E1(K,X,v)});function y(){const[$={},X=[],K=void 0]=typeof l.extraReducers=="function"?n_(l.extraReducers):[l.extraReducers],ue={...$,...g.sliceCaseReducersByType};return l1(l.initialState,Se=>{for(let ae in ue)Se.addCase(ae,ue[ae]);for(let ae of g.sliceMatchers)Se.addMatcher(ae.matcher,ae.reducer);for(let ae of X)Se.addMatcher(ae.matcher,ae.reducer);K&&Se.addDefaultCase(K)})}const C=$=>$,N=new Map,O=new WeakMap;let L;function F($,X){return L||(L=y()),L($,X)}function ee(){return L||(L=y()),L.getInitialState()}function Z($,X=!1){function K(Se){let ae=Se[$];return typeof ae>"u"&&X&&(ae=zo(O,K,ee)),ae}function ue(Se=C){const ae=zo(N,X,()=>new WeakMap);return zo(ae,Se,()=>{const We={};for(const[Xt,St]of Object.entries(l.selectors??{}))We[Xt]=v1(St,Se,()=>zo(O,Se,ee),X);return We})}return{reducerPath:$,getSelectors:ue,get selectors(){return ue(K)},selectSlice:K}}const le={name:a,reducer:F,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:ee,...Z(d),injectInto($,{reducerPath:X,...K}={}){const ue=X??d;return $.inject({reducerPath:ue,reducer:F},K),{...le,...Z(ue,!0)}}};return le}}function v1(r,t,i,o){function l(a,...d){let h=t(a);return typeof h>"u"&&o&&(h=i()),r(h,...d)}return l.unwrapped=r,l}var i_=y1();function w1(){function r(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return r.withTypes=()=>r,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:r}}function E1({type:r,reducerName:t,createNotation:i},o,l){let a,d;if("reducer"in o){if(i&&!S1(o))throw new Error(cn(17));a=o.reducer,d=o.prepare}else a=o;l.addCase(r,a).exposeCaseReducer(t,a).exposeAction(t,d?es(r,d):es(r))}function C1(r){return r._reducerDefinitionType==="asyncThunk"}function S1(r){return r._reducerDefinitionType==="reducerWithPrepare"}function k1({type:r,reducerName:t},i,o,l){if(!l)throw new Error(cn(18));const{payloadCreator:a,fulfilled:d,pending:h,rejected:m,settled:g,options:v}=i,y=l(r,a,v);o.exposeAction(t,y),d&&o.addCase(y.fulfilled,d),h&&o.addCase(y.pending,h),m&&o.addCase(y.rejected,m),g&&o.addMatcher(y.settled,g),o.exposeCaseReducer(t,{fulfilled:d||jo,pending:h||jo,rejected:m||jo,settled:g||jo})}function jo(){}function cn(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}async function I1(r){const t=fs(hs,"orders");return(await qS(t,r)).key}async function T1(){const r=fs(hs),t=await XS(qr(r,"orders"));if(t.exists()){const i=t.val();return Object.entries(i).map(([o,l])=>({id:o,...l}))}else return[]}const N1={list:[],status:"idle",error:null},Bo=r_("orders/addOrder",async(r,t)=>{const i=await I1(r);return{...r,id:i}}),Wo=r_("orders/getOrders",async()=>await T1()),x1=i_({name:"orders",initialState:N1,reducers:{},extraReducers:r=>{r.addCase(Bo.pending,t=>{t.status="loading"}).addCase(Bo.fulfilled,(t,i)=>{t.status="succeeded",t.list.push(i.payload)}).addCase(Bo.rejected,(t,i)=>{t.status="failed",t.error=i.error.message||"Error al guardar pedido"}).addCase(Wo.pending,t=>{t.status="loading"}).addCase(Wo.fulfilled,(t,i)=>{t.status="succeeded",t.list=i.payload}).addCase(Wo.rejected,(t,i)=>{t.status="failed",t.error=i.error.message||"Error al obtener pedidos"})}}),R1=x1.reducer,P1=[],s_=i_({name:"menu",initialState:P1,reducers:{setMenu:(r,t)=>t.payload,updateQuantity:(r,t)=>{const i=r.find(o=>o.id===t.payload.id);i&&(i.quantity=t.payload.quantity)}}}),{setMenu:W1,updateQuantity:D1}=s_.actions,O1=s_.reducer;function A1(r){const[t,i]=Te.useState(1),[o,l]=Te.useState(!1),[a,d]=Te.useState(""),[h,m]=Te.useState(""),g=Te.useContext(o_),v=$g(),y=Zi(Z=>Z.orders.status),C=Zi(Z=>Z.orders.error),N=r.food.price*t,O=Z=>{i(parseInt(Z.target.value))},L=Z=>{d(Z.target.value)},F=Z=>{m(Z.target.value)},ee=async Z=>{if(Z.preventDefault(),t<0){const K=new Error("La cantidad no puede ser negativa.");throw un.error(K.message),K}const le=g.map(K=>K.id===r.food.id?{...K,quantity:Math.max(0,K.quantity-t)}:K);r.onUpdateMenuItems(le);const $={};$[`/menuItems/${r.food.id-1}/quantity`]=Math.max(0,r.food.quantity-t),YS(fs(hs),$),v(D1({id:r.food.id,quantity:Math.max(0,r.food.quantity-t)}));const X={name:r.food.name,quantity:t,phone:h,date:new Date().toISOString(),customerName:a,product:r.food.id,totalPrice:N};v(Bo(X)).then(()=>{un.info("Pedido guardado correctamente."),l(!0)}).catch(K=>{un.error("Error al guardar pedido: "+K.message)})};return V.jsx("div",{className:"food-order-container",children:o?V.jsxs("div",{className:"confirmation",children:[V.jsx("p",{children:"Pedido enviado. Recibir un SMS una vez est listo para recoger."}),V.jsx("button",{onClick:r.onReturnToMEnu,children:"Volver al men"})]}):V.jsxs("form",{onSubmit:ee,children:[V.jsx("h3",{children:r.food.name}),V.jsx("p",{children:r.food.desc}),V.jsx("img",{src:`/images/${r.food.image}`,alt:r.food.name}),V.jsxs("p",{children:[r.food.price,""]}),V.jsx("label",{htmlFor:"quantity",children:"Cantidad:"}),V.jsx("input",{type:"number",id:"quantity",value:t,onChange:O}),V.jsx("label",{htmlFor:"name",children:"Nombre:"}),V.jsx("input",{type:"text",id:"name",value:a,onChange:L,required:!0}),V.jsx("label",{htmlFor:"phone",children:"Telfono:"}),V.jsx("input",{type:"tel",id:"phone",value:h,onChange:F,required:!0}),V.jsxs("p",{children:["Total: ",N,""]}),y==="loading"&&V.jsx("p",{children:"Guardando pedido..."}),"                 ",y==="failed"&&V.jsx("p",{className:"error",children:C}),"       ",V.jsx("button",{type:"submit",disabled:y==="loading",children:"Enviar pedido"}),V.jsx("button",{type:"button",onClick:r.onReturnToMEnu,children:"Volver al men"})]})})}function M1(r){const[t,i]=Te.useState(null),o=a=>{i(a)},l=()=>{i(null)};return t?V.jsx(A1,{food:t,onReturnToMEnu:l,onUpdateMenuItems:r.onUpdateMenuItems}):V.jsxs(V.Fragment,{children:[V.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),V.jsx("ul",{className:"ulFoods",children:r.foodItems.map(a=>V.jsxs("li",{className:"liFoods",onClick:()=>o(a),children:[V.jsx("img",{className:"foodImg",src:`/images/${a.image}`,alt:a.name}),V.jsxs("div",{className:"foodItem",children:[V.jsx("p",{className:"foodDesc",children:a.desc}),V.jsxs("p",{className:"foodPrice",children:[a.price,"$"]})]})]},a.id))})]})}class L1 extends vc.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){un.warn("Error capturado por ErrorBoundary: "+t.message),un.debug("Detalles del error: "+i.componentStack)}render(){return this.state.hasError?`<div>
                <h1>Algo sali mal.</h1>
                <p>Se ha producido un error inesperado. Por favor, intntelo de nuevo ms tarde.</p>
                {/* Solo muestra los detalles del error en desarrollo */}
                {process.env.NODE_ENV === 'development' && this.state.error && this.state.errorInfo && (
                  <div>
                    <p>Mensaje: {this.state.error.message}</p>
                    <pre>{this.state.errorInfo.componentStack}</pre>
                  </div>
                )}
              </div>`:this.props.children}}function F1(){const r=$g(),t=Zi(l=>l.orders.list),i=Zi(l=>l.orders.status),o=Zi(l=>l.orders.error);return Te.useEffect(()=>{r(Wo())},[r]),V.jsxs("div",{className:"order-list",children:[V.jsx("h2",{children:"Pedidos recientes"}),i==="loading"&&V.jsx("p",{children:"Cargando pedidos..."}),"  ",i==="failed"&&V.jsxs("p",{style:{color:"red"},children:["Error: ",o]}),i==="succeeded"&&t.length===0&&V.jsx("p",{children:"No hay pedidos an."}),i==="succeeded"&&t.length>0&&V.jsx("ul",{children:t.map(l=>V.jsxs("li",{children:[V.jsx("strong",{children:l.customerName})," pidi ",l.quantity," ",l.name," - ",l.totalPrice,"",V.jsx("br",{}),"Tel: ",l.phone," | Fecha: ",new Date(l.date).toLocaleString()]},l.id))})]})}const o_=vc.createContext([]);function b1(){const[r,t]=Te.useState(!1),[i,o]=Te.useState([]);Te.useEffect(()=>{un.debug("Debug level log"),un.info("Info level log"),un.warn("Warning level log"),un.error("Error level log")},[]),Te.useEffect(()=>{const a=fs(hs,"menuItems");ZS(a,d=>{const h=d.val();if(h){const m=Object.entries(h).map(([,g])=>typeof g=="object"&&g!==null&&"id"in g&&"name"in g&&"quantity"in g&&"desc"in g&&"price"in g&&"image"in g?{id:g.id,name:g.name,quantity:g.quantity,desc:g.desc,price:g.price,image:g.image}:(console.error("Invalid menu item data:",g),null)).filter(g=>g!==null);o(m)}else{const m=[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito con lechuga y mayonesa",price:24,image:"cb.jpg"},{id:2,name:"Hamburguesa Vegetariana",quantity:40,desc:"Hamburguesa de espinacas y judas",price:30,image:"vb.jpg"},{id:3,name:"Patatas fritas",quantity:50,desc:"Patatas fritas crujientes",price:10,image:"chips.jpg"},{id:4,name:"Helado",quantity:60,desc:"Helado de vainilla",price:5,image:"ic.jpg"}];o(m),dc(a,m)}})},[]);const l=a=>{o(a);const d=fs(hs,"menuItems");dc(d,a)};return V.jsx(L1,{fallback:V.jsx("div",{children:V.jsx("h1",{children:"Cargando..."})}),children:V.jsx(o_.Provider,{value:i,children:V.jsxs("div",{className:"App",children:[V.jsx("button",{className:"toggleButton",onClick:()=>t(!r),children:r?"Disponibilidad":"Pedir Comida"}),V.jsx("h3",{className:"title",children:"Comida Rpida Online"}),!r&&V.jsxs(V.Fragment,{children:[V.jsx("h4",{className:"subTitle",children:"Mens"}),i.length===0?V.jsx("p",{children:"No hay mens disponibles en este momento."}):V.jsx("ul",{className:"ulApp",children:i.map(a=>V.jsxs("li",{className:"liApp",children:[V.jsx("p",{children:a.name}),V.jsxs("p",{children:["#",a.quantity]})]},a.id))}),V.jsx(F1,{})]}),r&&V.jsx(M1,{foodItems:i,onUpdateMenuItems:l})]})})})}const z1=s1({reducer:{menu:O1,orders:R1}});hv.createRoot(document.getElementById("root")).render(V.jsx(vc.StrictMode,{children:V.jsx(R0,{store:z1,children:V.jsx(b1,{})})}));
